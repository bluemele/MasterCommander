<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MasterCommander.ai ‚Äî v3</title>
<link rel="stylesheet" href="gate.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'Inter',sans-serif;background:#fff;color:#0F172A;line-height:1.6;-webkit-font-smoothing:antialiased}

:root{
  --sky:#0EA5E9;--sky-dark:#0284C7;--sky-pale:#C7E8FB;--sky-mid:#BAE0F7;
  --ocean:#0C4A6E;--emerald:#10B981;--amber:#F59E0B;--violet:#8B5CF6;
  --indigo:#6366F1;--coral:#F97316;--slate:#64748B;
  --border:#E2E8F0;--surface:#F8FAFC;--text:#0F172A;--r:12px;
  --shadow:0 1px 3px rgba(0,0,0,0.07),0 6px 20px rgba(0,0,0,0.06);
  --shadow-lg:0 12px 40px rgba(0,0,0,0.12);
}

a{color:inherit;text-decoration:none}
ul{list-style:none}
.container{max-width:1120px;margin:0 auto;padding:0 24px}

/* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
nav{position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.88);backdrop-filter:blur(16px);border-bottom:1px solid var(--border)}
.nav-inner{display:flex;align-items:center;justify-content:space-between;height:60px;gap:24px}
.logo{font-size:1rem;font-weight:900;letter-spacing:-0.02em;color:var(--ocean)}
.logo span{color:var(--sky)}
.logo .logo-dot{color:var(--sky);font-size:.85em}
.nav-links{display:flex;gap:24px}
.nav-links a{font-size:0.85rem;font-weight:500;color:var(--slate);transition:color .2s}
.nav-links a:hover{color:var(--text)}
.btn{display:inline-flex;align-items:center;gap:6px;padding:9px 20px;border-radius:8px;font-size:0.875rem;font-weight:600;border:none;cursor:pointer;transition:all .2s;text-decoration:none}
.btn-sky{background:var(--sky);color:#fff;box-shadow:0 2px 8px rgba(14,165,233,.35)}
.btn-sky:hover{background:var(--sky-dark);transform:translateY(-1px);box-shadow:0 4px 16px rgba(14,165,233,.4)}
.btn-outline{background:transparent;color:var(--text);border:1.5px solid var(--border)}
.btn-outline:hover{border-color:var(--sky);color:var(--sky)}
.btn-ghost-white{background:rgba(255,255,255,.12);color:#fff;border:1.5px solid rgba(255,255,255,.25)}
.btn-ghost-white:hover{background:rgba(255,255,255,.2)}
.btn-lg{padding:13px 28px;font-size:1rem;border-radius:10px}

/* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
.hero{background:linear-gradient(160deg,#BAE0F7 0%,#D6EEFA 45%,#EEF7FD 100%);padding:72px 0 56px;overflow:hidden;position:relative}
.hero::after{content:'';position:absolute;top:-80px;right:-100px;width:600px;height:600px;background:radial-gradient(circle,rgba(14,165,233,.09) 0%,transparent 68%);pointer-events:none}
.hero-grid{display:grid;grid-template-columns:1fr 1fr;gap:56px;align-items:center}
.tag{display:inline-flex;align-items:center;gap:7px;font-size:0.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:var(--sky);background:rgba(14,165,233,.1);padding:5px 12px;border-radius:99px;margin-bottom:18px}
.tag-dot{width:6px;height:6px;border-radius:50%;background:var(--sky);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.8)}}
.hero h1{font-size:clamp(2.2rem,4.5vw,3.2rem);line-height:1.1;letter-spacing:-.035em;font-weight:900;margin-bottom:18px;color:var(--ocean)}
.hero h1 em{font-style:normal;color:var(--sky)}
.hero-sub{font-size:1.05rem;color:var(--slate);line-height:1.75;margin-bottom:28px;max-width:460px}
.hero-ctas{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:32px}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{font-size:0.75rem;font-weight:500;color:var(--slate);background:#fff;border:1px solid var(--border);padding:4px 10px;border-radius:6px;display:flex;align-items:center;gap:5px}

/* Live panel */
.panel{background:#fff;border-radius:16px;box-shadow:var(--shadow-lg);border:1px solid #E0F2FE;overflow:hidden}
.panel-head{background:var(--ocean);padding:13px 16px;display:flex;align-items:center;justify-content:space-between}
.panel-boat{color:#fff;font-size:.875rem;font-weight:700;display:flex;align-items:center;gap:8px}
.blink{width:7px;height:7px;border-radius:50%;background:#10B981;animation:blink 1.5s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}
.live-tag{font-size:.7rem;font-weight:700;color:#10B981;text-transform:uppercase;letter-spacing:.07em}
.panel-body{padding:14px;display:flex;flex-direction:column;gap:10px}
.pcard{background:var(--surface);border-radius:9px;padding:11px 13px}
.pcard-title{font-size:.68rem;font-weight:700;text-transform:uppercase;letter-spacing:.07em;color:var(--slate);margin-bottom:8px}
.prow{display:flex;align-items:center;justify-content:space-between;padding:4px 0;font-size:.8rem}
.prow+.prow{border-top:1px solid var(--border)}
.plabel{color:var(--slate);font-weight:500;display:flex;align-items:center;gap:6px}
.pval{font-weight:700;color:var(--text)}
.dot{width:5px;height:5px;border-radius:50%}
.dot-g{background:#10B981}.dot-y{background:#F59E0B}.dot-r{background:#EF4444}
.ai-box{background:linear-gradient(135deg,rgba(14,165,233,.07),rgba(8,145,178,.05));border:1px solid rgba(14,165,233,.18);border-radius:9px;padding:11px 13px;display:flex;gap:9px;align-items:flex-start}
.ai-box-text{font-size:.79rem;color:var(--text);line-height:1.55}
.ai-box-text strong{display:block;font-size:.68rem;color:var(--sky);text-transform:uppercase;letter-spacing:.06em;margin-bottom:3px}

/* ‚îÄ‚îÄ STATS ‚îÄ‚îÄ */
.stats{background:var(--ocean);padding:28px 0}
.stats-grid{display:grid;grid-template-columns:repeat(4,1fr)}
.stat{text-align:center;padding:8px 12px;border-right:1px solid rgba(255,255,255,.1)}
.stat:last-child{border-right:none}
.stat-n{font-size:1.6rem;font-weight:900;color:#fff;letter-spacing:-.03em}
.stat-l{font-size:.78rem;color:rgba(255,255,255,.5);margin-top:3px}

/* ‚îÄ‚îÄ SECTIONS ‚îÄ‚îÄ */
.section{padding:88px 0}
.eyebrow{font-size:.73rem;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:var(--sky);margin-bottom:10px}
.section-title{font-size:clamp(1.7rem,3.2vw,2.4rem);font-weight:900;letter-spacing:-.03em;margin-bottom:14px;color:var(--ocean)}
.section-sub{font-size:1rem;color:var(--slate);line-height:1.75;max-width:540px;margin-bottom:52px}

/* ‚îÄ‚îÄ FLOW DIAGRAM BASE ‚îÄ‚îÄ */
.flow-wrap{background:var(--surface);border-radius:20px;padding:40px;border:1px solid var(--border)}
.flow-label{display:inline-flex;align-items:center;gap:7px;font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.07em;padding:4px 12px;border-radius:6px;margin-bottom:20px}
.flow-label.on-board{background:rgba(14,165,233,.1);color:var(--sky)}
.flow-label.cloud{background:rgba(16,185,129,.1);color:#059669}
.flow-label.users{background:rgba(139,92,246,.1);color:var(--violet)}

/* Animated flow connectors */
@keyframes connector-flow{from{background-position:0 0}to{background-position:24px 0}}
.flow-connector{flex:1;min-width:24px;height:2px;position:relative}
.flow-connector::after{content:'';position:absolute;right:-1px;top:50%;transform:translateY(-50%);border:5px solid transparent;border-right:none}
.flow-connector.sky{
  background:repeating-linear-gradient(to right,var(--sky) 0,var(--sky) 5px,rgba(14,165,233,.15) 5px,rgba(14,165,233,.15) 10px);
  background-size:24px 2px;animation:connector-flow 1.2s linear infinite;
}
.flow-connector.sky::after{border-left-color:var(--sky-dark)}
.flow-connector.indigo{
  background:repeating-linear-gradient(to right,var(--indigo) 0,var(--indigo) 5px,rgba(99,102,241,.15) 5px,rgba(99,102,241,.15) 10px);
  background-size:24px 2px;animation:connector-flow 1.4s linear infinite;
}
.flow-connector.indigo::after{border-left-color:var(--indigo)}
.flow-connector.green{
  background:repeating-linear-gradient(to right,#059669 0,#059669 5px,rgba(16,185,129,.15) 5px,rgba(16,185,129,.15) 10px);
  background-size:24px 2px;animation:connector-flow 1.6s linear infinite;
}
.flow-connector.green::after{border-left-color:#059669}

/* Flow nodes */
.flow-node{background:#fff;border-radius:10px;padding:12px 15px;border:1.5px solid var(--border);min-width:140px;box-shadow:var(--shadow);position:relative;transition:all .25s;flex-shrink:0}
.flow-node:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
.flow-node-icon{font-size:1.3rem;margin-bottom:5px}
.flow-node-title{font-size:.8rem;font-weight:700;color:var(--text)}
.flow-node-sub{font-size:.7rem;color:var(--slate);line-height:1.4;margin-top:2px}
.flow-node-tag{font-size:.62rem;font-weight:700;text-transform:uppercase;letter-spacing:.06em;padding:2px 7px;border-radius:4px;margin-bottom:6px;display:inline-block}

.tag-sky{background:rgba(14,165,233,.1);color:var(--sky)}
.tag-green{background:rgba(16,185,129,.1);color:#059669}
.tag-violet{background:rgba(139,92,246,.1);color:var(--violet)}
.tag-amber{background:rgba(245,158,11,.1);color:#D97706}
.tag-indigo{background:rgba(99,102,241,.1);color:var(--indigo)}
.tag-ocean{background:rgba(12,74,110,.1);color:var(--ocean)}

@keyframes node-pulse{0%,100%{box-shadow:0 0 0 3px rgba(14,165,233,.12),var(--shadow)}50%{box-shadow:0 0 0 7px rgba(14,165,233,.06),var(--shadow-lg)}}
.flow-node.highlight{border-color:var(--sky);animation:node-pulse 3s ease-in-out infinite}
.flow-node.highlight-green{border-color:#10B981;box-shadow:0 0 0 3px rgba(16,185,129,.12),var(--shadow)}
.flow-node.highlight-violet{border-color:var(--violet);box-shadow:0 0 0 3px rgba(139,92,246,.12),var(--shadow)}
.flow-node.optional{border-style:dashed;opacity:.72}

/* ‚îÄ‚îÄ TWO-TIER HARDWARE DIAGRAM ‚îÄ‚îÄ */
.flow-tiers{display:flex;flex-direction:column;gap:16px;margin-bottom:4px}
.flow-tier{border-radius:12px;padding:16px;border:1.5px solid;position:relative;margin-top:14px;transition:box-shadow .3s,transform .2s}
.flow-tier:hover{box-shadow:0 6px 28px rgba(0,0,0,.09);transform:translateY(-1px)}
.flow-tier.essential{border-color:rgba(14,165,233,.3);background:rgba(14,165,233,.025)}
.flow-tier.pro{border-color:rgba(99,102,241,.35);background:rgba(99,102,241,.025)}

.tier-badge{position:absolute;top:-11px;left:14px;display:inline-flex;align-items:center;gap:5px;font-size:.65rem;font-weight:800;text-transform:uppercase;letter-spacing:.08em;padding:3px 11px;border-radius:99px;white-space:nowrap}
.tier-badge.essential{color:var(--sky);background:#EFF9FF;border:1.5px solid rgba(14,165,233,.3)}
.tier-badge.pro{color:var(--indigo);background:#EEF2FF;border:1.5px solid rgba(99,102,241,.3)}

.flow-tier-nodes{display:flex;align-items:center;gap:0}
.flow-node-sm{background:#fff;border-radius:9px;padding:10px 12px;border:1.5px solid var(--border);flex:1;min-width:0;box-shadow:var(--shadow);transition:all .25s;cursor:default}
.flow-node-sm:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.1)}
.flow-node-sm .flow-node-icon{font-size:1.1rem;margin-bottom:4px}
.flow-node-sm .flow-node-title{font-size:.74rem;font-weight:700;color:var(--text)}
.flow-node-sm .flow-node-sub{font-size:.64rem;color:var(--slate);line-height:1.35;margin-top:2px}
.flow-node-sm .flow-node-tag{margin-bottom:4px}
.hl-sky{border-color:var(--sky)!important;box-shadow:0 0 0 2px rgba(14,165,233,.1),var(--shadow)!important}
.hl-indigo{border-color:var(--indigo)!important;box-shadow:0 0 0 2px rgba(99,102,241,.1),var(--shadow)!important}

/* Shared centered nodes */
.flow-shared-node{display:flex;justify-content:center}
.flow-fork-label{font-size:.64rem;font-weight:800;text-transform:uppercase;letter-spacing:.07em;color:var(--slate);background:var(--surface);padding:3px 10px;border-radius:99px;border:1px solid var(--border)}

/* Gateway bridge */
.flow-gateway{
  display:flex;align-items:center;gap:12px;
  background:linear-gradient(135deg,rgba(14,165,233,.05),rgba(16,185,129,.05));
  border:1px solid rgba(14,165,233,.2);border-radius:10px;padding:13px 18px;
  position:relative;margin:0;
}
.flow-gateway::before{content:'';position:absolute;top:-14px;left:50%;transform:translateX(-50%);width:2px;height:14px;background:linear-gradient(to bottom,var(--sky),rgba(14,165,233,.4))}
.flow-gateway::after{content:'';position:absolute;bottom:-14px;left:50%;transform:translateX(-50%);width:2px;height:14px;background:linear-gradient(to bottom,rgba(16,185,129,.4),#059669)}
.gateway-icon{font-size:1.5rem;flex-shrink:0}
.gateway-text{flex:1}
.gateway-title{font-size:.84rem;font-weight:700;color:var(--text)}
.gateway-sub{font-size:.72rem;color:var(--slate);margin-top:1px;line-height:1.4}
.gateway-badge{font-size:.65rem;font-weight:700;padding:3px 9px;border-radius:99px;flex-shrink:0}

/* ‚îÄ‚îÄ CLOUD TREE FORK ‚îÄ‚îÄ */
.cloud-fork-row{
  display:grid;grid-template-columns:1fr 1fr;gap:0;
  width:82%;margin:0 auto;padding-top:30px;position:relative;
}
.cloud-fork-row::before{
  content:'';position:absolute;top:0;left:25%;right:25%;height:2px;background:rgba(16,185,129,.45);
}
.cloud-fork-cell{
  display:flex;flex-direction:column;align-items:center;padding:0 12px;position:relative;
}
.cloud-fork-cell::before{
  content:'';position:absolute;top:-30px;left:50%;transform:translateX(-50%);width:2px;height:24px;background:rgba(16,185,129,.45);
}
.cloud-fork-cell::after{
  content:'';position:absolute;top:-6px;left:50%;transform:translateX(-50%);width:0;height:0;
  border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgba(16,185,129,.6);
}
.cloud-sub-trunk{width:2px;height:16px;background:rgba(14,165,233,.4);margin:8px auto 0}
.cloud-subfork-row{
  display:grid;grid-template-columns:1fr 1fr;gap:0;
  width:100%;padding-top:24px;position:relative;
}
.cloud-subfork-row::before{
  content:'';position:absolute;top:0;left:25%;right:25%;height:2px;background:rgba(14,165,233,.35);
}
.cloud-subfork-cell{
  display:flex;flex-direction:column;align-items:center;padding:0 6px;position:relative;
}
.cloud-subfork-cell::before{
  content:'';position:absolute;top:-24px;left:50%;transform:translateX(-50%);width:2px;height:18px;background:rgba(14,165,233,.35);
}
.cloud-subfork-cell::after{
  content:'';position:absolute;top:-6px;left:50%;transform:translateX(-50%);width:0;height:0;
  border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(14,165,233,.5);
}
.cloud-subfork-cell.opt-cell::before{background:rgba(100,116,139,.25)}
.cloud-subfork-cell.opt-cell::after{border-top-color:rgba(100,116,139,.35)}

/* ‚îÄ‚îÄ USER CHANNEL GRID ‚îÄ‚îÄ */
.user-channel-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:12px}
.user-channel-card{background:#fff;border-radius:10px;padding:14px 16px;border:1.5px solid var(--border);border-left:3px solid var(--border);box-shadow:var(--shadow);transition:all .25s}
.user-channel-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
.user-channel-card.c-sky{border-left-color:var(--sky)}
.user-channel-card.c-amber{border-left-color:var(--amber)}
.user-channel-card.c-violet{border-left-color:var(--violet)}
.user-channel-card.c-green{border-left-color:var(--emerald)}
.ucc-top{display:flex;align-items:center;gap:10px;margin-bottom:8px}
.ucc-icon{font-size:1.3rem;flex-shrink:0}
.ucc-name{font-size:.82rem;font-weight:700;color:var(--text)}
.ucc-desc{font-size:.68rem;color:var(--slate);margin-top:1px}
.ucc-channels{display:flex;flex-wrap:wrap;gap:5px}
.chan-badge{font-size:.64rem;font-weight:600;padding:2px 8px;border-radius:99px;border:1px solid}
.chan-badge.cb-wa{background:rgba(37,211,102,.08);color:#128C7E;border-color:rgba(37,211,102,.25)}
.chan-badge.cb-web{background:rgba(14,165,233,.08);color:var(--sky-dark);border-color:rgba(14,165,233,.25)}
.chan-badge.cb-fleet{background:rgba(99,102,241,.08);color:var(--indigo);border-color:rgba(99,102,241,.25)}

/* ‚îÄ‚îÄ PERSONAS ‚îÄ‚îÄ */
.personas-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}
.persona{background:#fff;border-radius:var(--r);padding:26px 28px;border:1.5px solid var(--border);box-shadow:var(--shadow);border-left:4px solid var(--border);transition:all .25s;position:relative;overflow:hidden}
.persona:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg)}
.persona.sky{border-left-color:var(--sky)}
.persona.emerald{border-left-color:var(--emerald)}
.persona.amber{border-left-color:var(--amber)}
.persona.violet{border-left-color:var(--violet)}
.persona-top{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:14px}
.persona-icon{font-size:2rem;margin-bottom:10px}
.persona-name{font-size:1.05rem;font-weight:800;margin-bottom:3px}
.persona-desc{font-size:.83rem;color:var(--slate)}
.persona-list{display:flex;flex-direction:column;gap:8px;margin-top:14px}
.persona-item{display:flex;align-items:center;gap:9px;font-size:.84rem}
.pi-check{width:18px;height:18px;border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:.62rem;font-weight:800}
.pi-check.sky{background:rgba(14,165,233,.1);color:var(--sky)}
.pi-check.emerald{background:rgba(16,185,129,.1);color:var(--emerald)}
.pi-check.amber{background:rgba(245,158,11,.1);color:#D97706}
.pi-check.violet{background:rgba(139,92,246,.1);color:var(--violet)}

/* ‚îÄ‚îÄ PRICING ‚îÄ‚îÄ */
.pricing-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;align-items:start}
.price-card{background:#fff;border-radius:var(--r);padding:24px 20px;border:1.5px solid var(--border);transition:all .25s;position:relative;cursor:pointer}
.price-card:hover{border-color:var(--ocean);background:var(--ocean);color:#fff;box-shadow:0 12px 40px rgba(12,74,110,.35);transform:translateY(-3px)}
.price-card:hover .price-period,.price-card:hover .price-feat{color:rgba(255,255,255,.6)}
.price-card:hover .price-then{color:rgba(255,255,255,.4)}
.price-card:hover .price-divider{border-color:rgba(255,255,255,.12)}
.price-card:hover .price-note{color:rgba(255,255,255,.4)}
.price-card:hover .price-persona{color:rgba(255,255,255,.55)}
.price-card:hover .pfcheck{background:rgba(255,255,255,.12);color:rgba(255,255,255,.8)}
.price-card:hover .price-trial{background:rgba(16,185,129,.15);color:#6EE7B7}
.price-card:hover .price-trial.free-tag{background:rgba(249,115,22,.15);color:#FDBA74}
.price-card:hover .price-amount{color:#fff}
.price-card:hover .price-name{color:#fff}
.price-card:hover .btn{background:rgba(255,255,255,.15);color:#fff;border-color:rgba(255,255,255,.25)}
.price-card.selected{border-color:var(--sky);box-shadow:0 0 0 3px rgba(14,165,233,.18),var(--shadow-lg);transform:translateY(-4px)}
.price-badge{position:absolute;top:-11px;left:50%;transform:translateX(-50%);background:var(--sky);color:#fff;font-size:.65rem;font-weight:800;text-transform:uppercase;letter-spacing:.07em;padding:3px 12px;border-radius:99px;white-space:nowrap}
.price-persona{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.08em;margin-bottom:4px}
.price-name{font-size:.95rem;font-weight:800;margin-bottom:14px}
.price-amount{font-size:2rem;font-weight:900;letter-spacing:-.04em;line-height:1}
.price-period{font-size:.78rem;color:var(--slate);margin-top:2px;margin-bottom:2px}
.price-then{font-size:.71rem;color:var(--slate);margin-bottom:10px;font-style:italic}
.price-trial{font-size:.75rem;font-weight:700;color:#059669;background:#ECFDF5;padding:4px 10px;border-radius:6px;display:inline-block;margin-bottom:16px}
.price-trial.free-tag{background:#FFF7ED;color:#C2410C}
.price-divider{border:none;border-top:1px solid var(--border);margin:14px 0}
.price-feats{display:flex;flex-direction:column;gap:8px;margin-bottom:18px}
.price-feat{display:flex;align-items:flex-start;gap:7px;font-size:.8rem;color:var(--slate)}
.pfcheck{width:15px;height:15px;border-radius:50%;flex-shrink:0;margin-top:2px;background:#F0FDF4;color:#059669;font-size:.58rem;font-weight:800;display:flex;align-items:center;justify-content:center}
.price-note{font-size:.72rem;color:var(--slate);text-align:center;margin-top:8px}

/* ‚îÄ‚îÄ SOLUTIONS TABS ‚îÄ‚îÄ */
.sol-tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:32px}
.sol-tab{padding:10px 18px;border-radius:8px;border:1.5px solid var(--border);background:#fff;font-size:.85rem;font-weight:600;color:var(--slate);cursor:pointer;transition:all .2s;font-family:inherit}
.sol-tab:hover{border-color:var(--sky);color:var(--sky)}
.sol-tab.active{background:var(--ocean);border-color:var(--ocean);color:#fff}
.sol-panel{display:none}
.sol-panel.active{display:block}
.sol-content{display:grid;grid-template-columns:1fr 1fr;gap:40px;align-items:start}
.sol-features{display:flex;flex-direction:column;gap:18px}
.sol-feat-title{font-size:.88rem;font-weight:700;color:var(--text);display:flex;align-items:center;gap:8px}
.sol-feat-title::before{content:'‚úì';width:18px;height:18px;border-radius:50%;background:rgba(14,165,233,.1);color:var(--sky);font-size:.62rem;display:flex;align-items:center;justify-content:center;font-weight:800;flex-shrink:0}
.sol-feat-desc{font-size:.8rem;color:var(--slate);padding-left:26px;line-height:1.55;margin-top:3px}

/* WhatsApp mock (solutions) */
.wa-mock{border-radius:14px;overflow:hidden;box-shadow:var(--shadow-lg);border:1px solid var(--border)}
.wa-mock-header{background:#075E54;color:#fff;padding:11px 14px;display:flex;justify-content:space-between;align-items:center;font-size:.84rem;font-weight:600}
.wa-mock-body{background:#ECE5DD;padding:14px 12px;display:flex;flex-direction:column;gap:8px}
.wa-bubble{max-width:82%;padding:8px 12px;border-radius:12px;font-size:.78rem;line-height:1.5}
.wa-bubble.user{background:#DCF8C6;align-self:flex-end;border-radius:12px 12px 2px 12px}
.wa-bubble.bot{background:#fff;align-self:flex-start;border-radius:12px 12px 12px 2px;box-shadow:0 1px 2px rgba(0,0,0,.08)}

/* ‚îÄ‚îÄ INTERACTIVE DEMO ‚îÄ‚îÄ */
.demo-layout{display:grid;grid-template-columns:380px 1fr;gap:48px;align-items:start}
.demo-phone{background:#ECE5DD;border-radius:16px;overflow:hidden;box-shadow:var(--shadow-lg);border:1px solid var(--border)}
.demo-phone-header{background:#075E54;color:#fff;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;font-size:.875rem;font-weight:600}
.demo-messages{min-height:320px;max-height:420px;overflow-y:auto;padding:16px 12px 8px;display:flex;flex-direction:column;gap:8px}
.demo-msg{display:flex}
.demo-msg.user{justify-content:flex-end}
.demo-msg.bot{justify-content:flex-start}
.demo-bubble{max-width:80%;padding:9px 12px;border-radius:12px;font-size:.82rem;line-height:1.55}
.demo-bubble.user{background:#DCF8C6;border-radius:12px 12px 2px 12px}
.demo-bubble.bot{background:#fff;border-radius:12px 12px 12px 2px;box-shadow:0 1px 2px rgba(0,0,0,.08)}
.typing-bubble{display:flex;align-items:center;gap:4px;padding:10px 14px;background:#fff;border-radius:12px 12px 12px 2px;width:fit-content;box-shadow:0 1px 2px rgba(0,0,0,.08)}
.typing-dot{width:6px;height:6px;border-radius:50%;background:#aaa;animation:typing-bounce 1.4s infinite}
.typing-dot:nth-child(2){animation-delay:.2s}
.typing-dot:nth-child(3){animation-delay:.4s}
@keyframes typing-bounce{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-5px)}}
.demo-pills-area{padding:0 12px 6px;display:flex;gap:6px;flex-wrap:wrap}
.demo-pill{font-size:.76rem;padding:5px 12px;border-radius:20px;border:1.5px solid var(--sky);color:var(--sky);background:rgba(14,165,233,.05);cursor:pointer;transition:all .15s;font-family:inherit}
.demo-pill:hover{background:var(--sky);color:#fff}
.demo-input-row{display:flex;gap:8px;padding:10px 12px 12px;background:#F0F0F0}
.demo-input{flex:1;padding:9px 14px;border-radius:24px;border:1px solid var(--border);font-size:.84rem;outline:none;font-family:inherit}
.demo-input:focus{border-color:var(--sky)}
.demo-send-btn{width:38px;height:38px;border-radius:50%;background:#25D366;color:#fff;border:none;cursor:pointer;font-size:.9rem;display:flex;align-items:center;justify-content:center;transition:background .15s}
.demo-send-btn:hover{background:#128C7E}
.demo-queries-wrap{display:flex;flex-direction:column;gap:14px}
.demo-queries-label{font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:var(--slate)}
.demo-queries{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.demo-query-btn{padding:11px 14px;border-radius:10px;border:1.5px solid var(--border);background:#fff;font-size:.84rem;font-weight:600;cursor:pointer;text-align:left;transition:all .2s;color:var(--text);box-shadow:var(--shadow);font-family:inherit}
.demo-query-btn:hover{border-color:var(--sky);color:var(--sky);transform:translateY(-1px);box-shadow:var(--shadow-lg)}
.demo-autoplay-btn{padding:12px 20px;border-radius:10px;background:var(--ocean);color:#fff;border:none;font-size:.875rem;font-weight:700;cursor:pointer;transition:all .2s;box-shadow:var(--shadow);font-family:inherit}
.demo-autoplay-btn:hover{background:#0C3461;transform:translateY(-1px);box-shadow:var(--shadow-lg)}
.demo-hint{font-size:.78rem;color:var(--slate);font-style:italic;line-height:1.5}

/* ‚îÄ‚îÄ CTA ‚îÄ‚îÄ */
.cta{background:linear-gradient(145deg,var(--ocean) 0%,#0C3461 100%);padding:80px 0;text-align:center;overflow:hidden;position:relative}
.cta::before{content:'';position:absolute;top:-120px;left:50%;transform:translateX(-50%);width:700px;height:700px;background:radial-gradient(circle,rgba(14,165,233,.15) 0%,transparent 65%);pointer-events:none}
.cta h2{font-size:clamp(1.8rem,3.5vw,2.6rem);color:#fff;font-weight:900;letter-spacing:-.03em;margin-bottom:14px;position:relative}
.cta p{font-size:1rem;color:rgba(255,255,255,.6);max-width:460px;margin:0 auto 30px;line-height:1.75;position:relative}
.cta-btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;position:relative}

/* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
footer{background:var(--surface);border-top:1px solid var(--border);padding:32px 0}
.footer-inner{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px}
.footer-links{display:flex;gap:20px}
.footer-links a{font-size:.82rem;color:var(--slate);transition:color .2s}
.footer-links a:hover{color:var(--text)}
.footer-copy{font-size:.75rem;color:#94A3B8}

/* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
@media(max-width:960px){
  .hero-grid{grid-template-columns:1fr}.panel{display:none}
  .pricing-grid{grid-template-columns:repeat(2,1fr)}
  .flow-tier-nodes{flex-wrap:wrap;gap:8px}
  .flow-node-sm{min-width:calc(50% - 14px)}
  .flow-connector.sky,.flow-connector.indigo{display:none}
  .sol-content{grid-template-columns:1fr}
  .demo-layout{grid-template-columns:1fr}
  .demo-phone{max-width:400px}
}
@media(max-width:680px){
  .personas-grid{grid-template-columns:1fr}
  .pricing-grid{grid-template-columns:1fr}
  .stats-grid{grid-template-columns:repeat(2,1fr)}
  .stat:nth-child(2){border-right:none}
  .nav-links{display:none}
  .flow-node-sm{min-width:100%}
  .cloud-fork-row{width:100%;grid-template-columns:1fr;padding-top:0}
  .cloud-fork-row::before{display:none}
  .cloud-fork-cell::before,.cloud-fork-cell::after{display:none}
  .cloud-fork-cell{padding:0}
  .cloud-fork-cell+.cloud-fork-cell{margin-top:16px}
  .cloud-subfork-row{grid-template-columns:1fr;padding-top:0}
  .cloud-subfork-row::before{display:none}
  .cloud-subfork-cell::before,.cloud-subfork-cell::after{display:none}
  .cloud-subfork-cell+.cloud-subfork-cell{margin-top:10px}
  .user-channel-grid{grid-template-columns:1fr}
  .demo-queries{grid-template-columns:1fr}
  .sol-tabs{flex-wrap:nowrap;overflow-x:auto;padding-bottom:4px}
  .wyg-panels{grid-template-columns:1fr}
}

/* ‚îÄ‚îÄ AUTH NAV ‚îÄ‚îÄ */
.nav-login{position:relative;margin-left:4px}
.nav-login-btn{background:transparent;border:1.5px solid var(--sky);color:var(--sky);padding:7px 16px;border-radius:8px;font-size:.82rem;font-weight:600;cursor:pointer;font-family:inherit;transition:all .2s;white-space:nowrap;max-width:120px;overflow:hidden;text-overflow:ellipsis}
.nav-login-btn:hover{background:rgba(14,165,233,.08);box-shadow:0 0 8px rgba(14,165,233,.2)}
.nav-login-btn.logged-in{border-color:var(--emerald);color:var(--emerald)}
.nav-login-btn.logged-in:hover{background:rgba(16,185,129,.08)}
.nav-login-dropdown{display:none;position:absolute;top:calc(100% + 8px);right:0;background:#fff;border:1.5px solid var(--border);border-radius:10px;padding:16px;width:260px;flex-direction:column;gap:10px;box-shadow:var(--shadow-lg);z-index:200}
.nav-login.open .nav-login-dropdown{display:flex}
.auth-form{display:none;flex-direction:column;gap:10px}
.auth-form.active{display:flex}
.nav-login-dropdown input{background:var(--surface);border:1px solid var(--border);border-radius:6px;padding:8px 10px;color:var(--text);font-size:.85rem;font-family:inherit;outline:none;width:100%}
.nav-login-dropdown input:focus{border-color:var(--sky)}
.nav-login-dropdown input::placeholder{color:var(--slate)}
.nav-login-dropdown button[type="submit"],.nav-login-dropdown button.auth-btn{background:var(--sky);border:none;border-radius:6px;padding:8px;color:#fff;font-size:.85rem;font-weight:600;cursor:pointer;font-family:inherit;transition:background .2s}
.nav-login-dropdown button[type="submit"]:hover,.nav-login-dropdown button.auth-btn:hover{background:var(--sky-dark)}
.nav-login-dropdown button:disabled{opacity:.6;cursor:not-allowed}
.auth-error{color:#EF4444;font-size:.78rem;min-height:0;line-height:1.3}
.auth-error:empty{display:none}
.auth-success{color:var(--emerald);font-size:.78rem;min-height:0;line-height:1.3}
.auth-success:empty{display:none}
.auth-links{display:flex;justify-content:space-between;font-size:.75rem}
.auth-links a{color:var(--slate);cursor:pointer}
.auth-links a:hover{color:var(--sky)}
.auth-user-info{font-size:.85rem;color:var(--slate);padding:4px 0}
.auth-user-info strong{color:var(--text)}

/* ‚îÄ‚îÄ VERIFY BANNER ‚îÄ‚îÄ */
.verify-banner{display:none;position:fixed;top:0;left:0;right:0;z-index:101;background:var(--amber);color:#000;text-align:center;padding:8px 32px;font-size:.85rem;font-weight:600}
.verify-banner.visible{display:flex;align-items:center;justify-content:center;gap:12px}
.verify-banner a{color:#000;text-decoration:underline;cursor:pointer;font-weight:700}
.verify-banner .verify-dismiss{position:absolute;right:12px;background:none;border:none;color:#000;font-size:1.2rem;cursor:pointer;opacity:.7;line-height:1}
.verify-banner .verify-dismiss:hover{opacity:1}
body.has-verify-banner nav{top:2rem}

/* ‚îÄ‚îÄ CONTACT MODAL ‚îÄ‚îÄ */
.contact-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(4px);z-index:1000;align-items:center;justify-content:center}
.contact-overlay.open{display:flex}
.contact-modal{background:#fff;border-radius:14px;padding:32px;width:440px;max-width:92vw;position:relative;box-shadow:0 20px 60px rgba(0,0,0,.2)}
.contact-modal h3{font-size:1.2rem;font-weight:800;color:var(--ocean);margin-bottom:18px}
.contact-modal .close-modal{position:absolute;top:14px;right:16px;background:none;border:none;font-size:1.4rem;cursor:pointer;color:var(--slate);line-height:1}
.contact-modal .close-modal:hover{color:var(--text)}
.contact-form{display:flex;flex-direction:column;gap:12px}
.contact-form input,.contact-form select,.contact-form textarea{background:var(--surface);border:1.5px solid var(--border);border-radius:8px;padding:10px 12px;font-size:.88rem;font-family:inherit;color:var(--text);outline:none;width:100%}
.contact-form input:focus,.contact-form select:focus,.contact-form textarea:focus{border-color:var(--sky)}
.contact-form textarea{min-height:80px;resize:vertical}
.contact-form button[type="submit"]{background:var(--sky);color:#fff;border:none;border-radius:8px;padding:12px;font-size:.95rem;font-weight:700;cursor:pointer;font-family:inherit;transition:background .2s}
.contact-form button[type="submit"]:hover{background:var(--sky-dark)}
.contact-success{text-align:center;padding:24px 0}
.contact-success h4{font-size:1.1rem;font-weight:800;color:var(--ocean);margin-bottom:6px}
.contact-success p{font-size:.9rem;color:var(--slate)}

/* ‚îÄ‚îÄ DASHBOARD OVERLAY ‚îÄ‚îÄ */
.dash-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(6px);z-index:1000;align-items:flex-start;justify-content:center;overflow-y:auto;padding:48px 16px}
.dash-overlay.open{display:flex}
.dash-modal{background:#fff;border:1.5px solid var(--border);border-radius:14px;padding:28px;width:800px;max-width:95vw;position:relative}
.dash-close{position:absolute;top:14px;right:16px;background:none;border:none;color:var(--slate);font-size:1.5rem;cursor:pointer;line-height:1}
.dash-close:hover{color:var(--text)}
.dash-welcome{margin-bottom:24px;border-bottom:1px solid var(--border);padding-bottom:18px}
.dash-welcome h2{font-size:1.3rem;font-weight:800;color:var(--ocean);margin-bottom:6px}
.verify-badge{display:inline-block;padding:3px 10px;border-radius:5px;font-size:.75rem;font-weight:600}
.verify-badge.verified{background:rgba(16,185,129,.12);color:var(--emerald)}
.verify-badge.unverified{background:rgba(245,158,11,.12);color:#D97706}
.dash-section{margin-bottom:24px}
.dash-section h3{font-size:1rem;font-weight:700;color:var(--sky);margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border)}
.dash-msg{font-size:.85rem;margin-top:8px;min-height:1rem}
.dash-msg.error{color:#EF4444}
.dash-msg.success{color:var(--emerald)}
.dash-form{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.dash-form .full-width{grid-column:1/-1}
.dash-form label{display:flex;flex-direction:column;gap:4px;font-size:.8rem;color:var(--slate)}
.dash-form input{background:var(--surface);border:1px solid var(--border);border-radius:6px;padding:8px 10px;color:var(--text);font-size:.85rem;font-family:inherit;outline:none;width:100%}
.dash-form input:focus{border-color:var(--sky)}
.dash-form input[readonly]{opacity:.5;cursor:not-allowed}
.dash-form button{background:var(--sky);border:none;border-radius:6px;padding:8px 18px;color:#fff;font-size:.85rem;font-weight:600;cursor:pointer;font-family:inherit;transition:background .2s;justify-self:start}
.dash-form button:hover{background:var(--sky-dark)}
.boats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-bottom:12px}
.boat-card{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:14px}
.boat-card h4{font-size:.95rem;font-weight:700;margin-bottom:4px}
.boat-card p{font-size:.8rem;color:var(--slate);margin-bottom:2px}
.boat-card .boat-actions{margin-top:8px;display:flex;gap:8px}
.boat-card .boat-actions button{background:none;border:1px solid var(--border);color:var(--slate);padding:4px 10px;border-radius:4px;font-size:.75rem;cursor:pointer;font-family:inherit;transition:all .2s}
.boat-card .boat-actions button:hover{color:var(--sky);border-color:var(--sky)}
.boat-card .boat-actions button.delete-btn:hover{color:#EF4444;border-color:#EF4444}
.boat-form{display:grid;grid-template-columns:1fr 1fr;gap:10px;background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:14px;margin-top:8px}
.boat-form input{background:#fff;border:1px solid var(--border);border-radius:6px;padding:7px 10px;color:var(--text);font-size:.82rem;font-family:inherit;outline:none;width:100%}
.boat-form input:focus{border-color:var(--sky)}
.boat-form .boat-form-btns{grid-column:1/-1;display:flex;gap:8px}
.boat-form .boat-form-btns button{padding:6px 14px;border-radius:6px;font-size:.82rem;font-weight:600;cursor:pointer;font-family:inherit;border:none;transition:background .2s}
.boat-form .boat-form-btns .save-btn{background:var(--sky);color:#fff}
.boat-form .boat-form-btns .save-btn:hover{background:var(--sky-dark)}
.boat-form .boat-form-btns .cancel-btn{background:transparent;color:var(--slate);border:1px solid var(--border)}
.add-boat-btn{background:transparent;border:1px dashed var(--border);color:var(--slate);padding:8px 14px;border-radius:6px;font-size:.85rem;cursor:pointer;font-family:inherit;transition:all .2s}
.add-boat-btn:hover{color:var(--sky);border-color:var(--sky)}

/* ‚îÄ‚îÄ RESET PASSWORD MODAL ‚îÄ‚îÄ */
.auth-modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(4px);z-index:1000;align-items:center;justify-content:center}
.auth-modal-overlay.open{display:flex}
.auth-modal{background:#fff;border-radius:12px;padding:28px;width:360px;max-width:90vw;position:relative}
.auth-modal h3{font-size:1.1rem;font-weight:800;color:var(--ocean);margin-bottom:14px}
.auth-modal form{display:flex;flex-direction:column;gap:10px}
.auth-modal input{background:var(--surface);border:1.5px solid var(--border);border-radius:6px;padding:8px 10px;font-size:.85rem;font-family:inherit;color:var(--text);outline:none;width:100%}
.auth-modal input:focus{border-color:var(--sky)}
.auth-modal button[type="submit"]{background:var(--sky);border:none;border-radius:6px;padding:10px;color:#fff;font-size:.88rem;font-weight:600;cursor:pointer;font-family:inherit}
.auth-modal button[type="submit"]:hover{background:var(--sky-dark)}
.auth-modal-close{position:absolute;top:12px;right:14px;background:none;border:none;font-size:1.3rem;cursor:pointer;color:var(--slate);line-height:1}

/* ‚îÄ‚îÄ WHAT YOU GET (MOCKUPS) ‚îÄ‚îÄ */
.wyg-toggle{display:flex;gap:8px;margin-bottom:28px}
.wyg-toggle-btn{padding:10px 22px;border-radius:8px;border:1.5px solid var(--border);background:#fff;font-size:.88rem;font-weight:600;color:var(--slate);cursor:pointer;transition:all .2s;font-family:inherit}
.wyg-toggle-btn:hover{border-color:var(--sky);color:var(--sky)}
.wyg-toggle-btn.active{background:var(--ocean);border-color:var(--ocean);color:#fff}
.wyg-panel{display:none}
.wyg-panel.active{display:block}
.wyg-panels{display:grid;grid-template-columns:1fr 1fr;gap:24px}
.mockup-card{background:#fff;border-radius:12px;border:1.5px solid var(--border);box-shadow:var(--shadow);overflow:hidden}
.mockup-card-head{background:var(--ocean);padding:12px 16px;display:flex;align-items:center;justify-content:space-between}
.mockup-card-head span{color:#fff;font-size:.82rem;font-weight:700}
.mockup-card-body{padding:14px;display:flex;flex-direction:column;gap:10px}
.gauge-row{display:flex;gap:10px}
.gauge{flex:1;background:var(--surface);border-radius:8px;padding:10px;text-align:center}
.gauge-label{font-size:.65rem;font-weight:700;text-transform:uppercase;letter-spacing:.06em;color:var(--slate);margin-bottom:4px}
.gauge-val{font-size:1.1rem;font-weight:900;color:var(--text)}
.gauge-bar{height:4px;background:var(--border);border-radius:99px;margin-top:6px;overflow:hidden}
.gauge-bar-fill{height:100%;border-radius:99px}
.alert-list{display:flex;flex-direction:column;gap:6px}
.alert-item{display:flex;align-items:center;gap:8px;font-size:.78rem;padding:6px 8px;border-radius:6px;background:var(--surface)}
.alert-dot{width:6px;height:6px;border-radius:50%;flex-shrink:0}
.fleet-card{background:var(--surface);border-radius:8px;padding:10px 12px;border-left:3px solid var(--border)}
.fleet-card-name{font-size:.82rem;font-weight:700;margin-bottom:2px}
.fleet-card-status{font-size:.7rem;color:var(--slate)}
.fleet-card-badge{font-size:.6rem;font-weight:700;padding:2px 7px;border-radius:99px;float:right}

/* ‚îÄ‚îÄ ENHANCED DIAGRAM ‚îÄ‚îÄ */
.flow-node-sm{cursor:pointer}
.flow-node-sm .node-tooltip{display:none;position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%);background:var(--ocean);color:#fff;font-size:.68rem;padding:5px 10px;border-radius:6px;white-space:nowrap;z-index:10;pointer-events:none}
.flow-node-sm .node-tooltip::after{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:4px solid transparent;border-top-color:var(--ocean)}
.flow-node-sm:hover .node-tooltip{display:block}
.flow-node-sm{position:relative}
.node-expand{display:none;background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:10px 12px;margin-top:8px;font-size:.72rem;color:var(--text);line-height:1.5}
.node-expand.open{display:block}
@keyframes breathe{0%,100%{box-shadow:0 0 0 2px rgba(16,185,129,.08),var(--shadow)}50%{box-shadow:0 0 0 5px rgba(16,185,129,.04),var(--shadow-lg)}}
.cloud-fork-cell .flow-node{animation:breathe 4s ease-in-out infinite}

/* ‚îÄ‚îÄ RESPONSIVE ADDITIONS ‚îÄ‚îÄ */
@media(max-width:680px){
  .dash-modal{padding:18px}
  .dash-form{grid-template-columns:1fr}
  .boat-form{grid-template-columns:1fr}
  .boats-grid{grid-template-columns:1fr}
  .wyg-panels{grid-template-columns:1fr}
}
</style>
</head>
<body>

<!-- EMAIL VERIFICATION BANNER -->
<div class="verify-banner" id="verify-banner">
  <span>Please verify your email address.</span>
  <a href="#" id="resend-verify" onclick="mcDashboard.resendVerify();return false">Resend verification email</a>
  <button class="verify-dismiss" onclick="document.getElementById('verify-banner').classList.remove('visible');document.body.classList.remove('has-verify-banner')">&times;</button>
</div>

<!-- NAV -->
<nav>
  <div class="container">
    <div class="nav-inner">
      <div class="logo">Master<span>Commander</span><span class="logo-dot">.ai</span></div>
      <div class="nav-links">
        <a href="#how">How It Works</a>
        <a href="#for">Who It's For</a>
        <a href="#pricing">Pricing</a>
        <a href="#solutions">Solutions</a>
        <a href="#demo">Demo</a>
      </div>
      <div style="display:flex;gap:8px;align-items:center;">
        <a href="https://wa.me/13055601031" target="_blank" class="btn btn-outline">WhatsApp Us</a>
        <div class="nav-login" id="nav-login">
          <button class="nav-login-btn" id="auth-toggle" onclick="this.parentElement.classList.toggle('open')">Login</button>
          <div class="nav-login-dropdown" id="auth-dropdown">
            <form id="auth-login" class="auth-form active" onsubmit="return mcAuth.login(event)">
              <input type="email" id="login-email" placeholder="Email" autocomplete="email" required>
              <input type="password" id="login-password" placeholder="Password" autocomplete="current-password" required>
              <div class="auth-error" id="login-error"></div>
              <button type="submit" id="login-submit">Sign In</button>
              <div class="auth-links">
                <a href="#" onclick="mcAuth.showForm('signup');return false">Create account</a>
                <a href="#" onclick="mcAuth.showForm('forgot');return false">Forgot password?</a>
              </div>
            </form>
            <form id="auth-signup" class="auth-form" onsubmit="return mcAuth.signup(event)">
              <input type="text" id="signup-name" placeholder="Full Name" autocomplete="name" required>
              <input type="email" id="signup-email" placeholder="Email" autocomplete="email" required>
              <input type="password" id="signup-password" placeholder="Password (8+ chars)" autocomplete="new-password" required minlength="8">
              <div class="auth-error" id="signup-error"></div>
              <button type="submit" id="signup-submit">Create Account</button>
              <div class="auth-links">
                <a href="#" onclick="mcAuth.showForm('login');return false">Already have an account?</a>
              </div>
            </form>
            <form id="auth-forgot" class="auth-form" onsubmit="return mcAuth.forgot(event)">
              <input type="email" id="forgot-email" placeholder="Email" autocomplete="email" required>
              <div class="auth-error" id="forgot-error"></div>
              <div class="auth-success" id="forgot-success"></div>
              <button type="submit" id="forgot-submit">Send Reset Link</button>
              <div class="auth-links">
                <a href="#" onclick="mcAuth.showForm('login');return false">Back to login</a>
              </div>
            </form>
            <div id="auth-user" class="auth-form">
              <div class="auth-user-info">Signed in as <strong id="auth-user-name"></strong></div>
              <button type="button" class="auth-btn" onclick="mcAuth.logout()">Sign Out</button>
            </div>
          </div>
        </div>
        <a href="#pricing" class="btn btn-sky">Get Started</a>
      </div>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="container">
    <div class="hero-grid">
      <div>
        <div class="tag"><span class="tag-dot"></span>AI Boat Intelligence</div>
        <h1>Your boat, <em>always talking.</em><br>You, always knowing.</h1>
        <p class="hero-sub">MasterCommander puts a private AI on any vessel ‚Äî monitoring NMEA 2000 data, sending WhatsApp alerts, and managing your entire fleet without relying on the cloud.</p>
        <div class="hero-ctas">
          <a href="https://wa.me/13055601031" target="_blank" class="btn btn-sky btn-lg">Chat on WhatsApp</a>
          <a href="#how" class="btn btn-outline btn-lg">See How It Works</a>
        </div>
        <div class="chips">
          <span class="chip">NMEA 2000</span>
          <span class="chip">Qwen 3B or 14B AI</span>
          <span class="chip">WhatsApp alerts</span>
          <span class="chip">Offline-first</span>
        </div>
      </div>
      <div class="panel">
        <div class="panel-head">
          <div class="panel-boat">CAMELOT III</div>
          <div style="display:flex;align-items:center;gap:6px;"><div class="blink"></div><span class="live-tag">Live</span></div>
        </div>
        <div class="panel-body">
          <div class="pcard">
            <div class="pcard-title">Engine Systems</div>
            <div class="prow"><span class="plabel"><span class="dot dot-g"></span>Port Engine</span><span class="pval">2,400 rpm ¬∑ 94¬∞F</span></div>
            <div class="prow"><span class="plabel"><span class="dot dot-g"></span>Starboard</span><span class="pval">2,380 rpm ¬∑ 91¬∞F</span></div>
            <div class="prow"><span class="plabel"><span class="dot dot-y"></span>Fuel</span><span class="pval" style="color:#D97706">47% ¬∑ ~6h range</span></div>
            <div class="prow"><span class="plabel"><span class="dot dot-g"></span>Bilge</span><span class="pval">Dry</span></div>
          </div>
          <div class="pcard">
            <div class="pcard-title">Navigation</div>
            <div class="prow"><span class="plabel">Position</span><span class="pval">23¬∞04'N 82¬∞21'W</span></div>
            <div class="prow"><span class="plabel">Depth</span><span class="pval">42 ft</span></div>
            <div class="prow"><span class="plabel">Wind</span><span class="pval">12 kts SE</span></div>
          </div>
          <div class="ai-box">
            <div style="font-size:1.1rem;flex-shrink:0;margin-top:1px">AI</div>
            <div class="ai-box-text">
              <strong>Commander AI</strong>
              Fuel at 47% ‚Äî recommend topping up before the Gulf crossing. Next marina 8.4 nm ahead.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- STATS BAR -->
<div class="stats">
  <div class="container">
    <div class="stats-grid">
      <div class="stat"><div class="stat-n">NMEA</div><div class="stat-l">2000 + 0183 compatible</div></div>
      <div class="stat"><div class="stat-n">100%</div><div class="stat-l">Works without internet</div></div>
      <div class="stat"><div class="stat-n">AI model</div><div class="stat-l">Private ¬∑ your choice</div></div>
      <div class="stat"><div class="stat-n">24/7</div><div class="stat-l">Always watching, always learning</div></div>
    </div>
  </div>
</div>

<!-- HOW IT WORKS -->
<section class="section" id="how">
  <div class="container">
    <div class="eyebrow">The System</div>
    <h2 class="section-title">From sensor to insight in seconds.</h2>
    <p class="section-sub">A private AI runs directly on your boat's hardware ‚Äî no cloud required. Remote access, WhatsApp alerts, and fleet management layer on top when you have connectivity.</p>

    <div class="flow-wrap">

      <!-- LAYER 1: ON BOARD -->
      <div class="flow-label on-board">On Board ‚Äî No Internet Required</div>

      <!-- Shared NMEA trigger -->
      <div class="flow-shared-node" style="margin-bottom:8px">
        <div class="flow-node highlight" style="min-width:270px;text-align:center">
          <div class="flow-node-tag tag-sky" style="display:inline-block">Trigger</div>
          <div class="flow-node-icon">üõ•Ô∏è</div>
          <div class="flow-node-title">NMEA 2000 ‚Äî Boat Sensors</div>
          <div class="flow-node-sub" style="text-align:center">Engine ¬∑ fuel ¬∑ depth ¬∑ GPS ¬∑ wind ¬∑ AIS ¬∑ bilge</div>
        </div>
      </div>

      <!-- Fork label -->
      <div style="display:flex;flex-direction:column;align-items:center;gap:4px;margin-bottom:4px">
        <div style="width:2px;height:12px;background:var(--border)"></div>
        <span class="flow-fork-label">Choose Your Hardware</span>
      </div>

      <!-- Two Hardware Tiers -->
      <div class="flow-tiers">

        <!-- Essential: Pi 5 -->
        <div class="flow-tier essential">
          <span class="tier-badge essential">Essential ¬∑ Raspberry Pi 5</span>
          <div class="flow-tier-nodes">
            <div class="flow-node-sm hl-sky" onclick="toggleExpand(this)">
              <span class="node-tooltip">CAN bus interface, plugs directly onto Pi GPIO</span>
              <div class="flow-node-tag tag-sky">Interface</div>
              <div class="flow-node-icon">üîå</div>
              <div class="flow-node-title">PICAN-M HAT</div>
              <div class="flow-node-sub">NMEA 2000 adapter for Pi</div>
              <div class="node-expand">PICAN-M marine HAT with SMPS ‚Äî direct GPIO CAN bus + built-in 12V‚Üí5V power. Reads all PGNs: engine, fuel, GPS, AIS, depth. Micro-C connector plugs into any N2K tee. ~$100.</div>
            </div>
            <div class="flow-connector sky" style="flex:0 0 20px;min-width:20px"></div>
            <div class="flow-node-sm hl-sky" onclick="toggleExpand(this)">
              <span class="node-tooltip">4-core ARM, 16GB RAM, Commander OS pre-installed</span>
              <div class="flow-node-tag tag-sky">Hardware</div>
              <div class="flow-node-icon">üíª</div>
              <div class="flow-node-title">Raspberry Pi 5</div>
              <div class="flow-node-sub">16 GB ¬∑ ~$250 all-in</div>
              <div class="node-expand">4-core ARM Cortex-A76 ¬∑ 16GB RAM ¬∑ Commander OS pre-installed on SD card ¬∑ ~$85 board + ~$165 accessories. Low power draw ‚Äî runs off boat 12V.</div>
            </div>
            <div class="flow-connector sky" style="flex:0 0 20px;min-width:20px"></div>
            <div class="flow-node-sm hl-sky" onclick="toggleExpand(this)">
              <span class="node-tooltip">Open-source marine data server, included</span>
              <div class="flow-node-tag tag-ocean">Bridge</div>
              <div class="flow-node-icon">üîÄ</div>
              <div class="flow-node-title">SignalK Server</div>
              <div class="flow-node-sub">NMEA ‚Üí JSON bridge</div>
              <div class="node-expand">Open-source marine data server. Converts NMEA 2000 binary to JSON. Pre-configured ‚Äî you never touch it.</div>
            </div>
            <div class="flow-connector sky" style="flex:0 0 20px;min-width:20px"></div>
            <div class="flow-node-sm hl-sky" onclick="toggleExpand(this)">
              <span class="node-tooltip">3B param LLM runs fully on-board</span>
              <div class="flow-node-tag tag-sky">AI Engine</div>
              <div class="flow-node-icon">ü§ñ</div>
              <div class="flow-node-title">Qwen 2.5 ¬∑ 3B</div>
              <div class="flow-node-sub">Private LLM runs on-board</div>
              <div class="node-expand">3 billion parameter LLM running locally on Pi 5. Handles status queries, alert generation, and basic diagnostics. No internet needed.</div>
            </div>
          </div>
        </div>

        <!-- OR divider -->
        <div style="display:flex;align-items:center;justify-content:center;width:100%;margin:-6px 0">
          <div style="flex:1;height:1px;background:var(--border)"></div>
          <span style="padding:0 16px;font-size:13px;font-weight:700;letter-spacing:2px;color:var(--slate);text-transform:uppercase">‚Äî OR ‚Äî</span>
          <div style="flex:1;height:1px;background:var(--border)"></div>
        </div>

        <!-- Pro: Mac Mini M4 -->
        <div class="flow-tier pro">
          <span class="tier-badge pro">Pro ¬∑ Mac Mini M4</span>
          <div class="flow-tier-nodes">
            <div class="flow-node-sm hl-indigo" onclick="toggleExpand(this)">
              <span class="node-tooltip">USB NMEA gateway, plug-and-play</span>
              <div class="flow-node-tag tag-indigo">Interface</div>
              <div class="flow-node-icon">üîå</div>
              <div class="flow-node-title">Actisense NGT-1</div>
              <div class="flow-node-sub">USB NMEA 2000 adapter</div>
              <div class="node-expand">Actisense NGT-1 USB gateway ‚Äî industry standard NMEA 2000 interface. Plug into Mac Mini USB. ~$195.</div>
            </div>
            <div class="flow-connector indigo" style="flex:0 0 20px;min-width:20px"></div>
            <div class="flow-node-sm hl-indigo" onclick="toggleExpand(this)">
              <span class="node-tooltip">M4 chip, 24GB unified memory</span>
              <div class="flow-node-tag tag-indigo">Hardware</div>
              <div class="flow-node-icon">üñ•Ô∏è</div>
              <div class="flow-node-title">Mac Mini M4</div>
              <div class="flow-node-sub">24 GB ¬∑ ~$850 all-in</div>
              <div class="node-expand">Apple M4 chip ¬∑ 24GB unified memory ¬∑ runs Qwen 14B at full speed. Disk image download ‚Äî configure in 20 minutes. ~$650 Mac Mini + ~$195 Actisense.</div>
            </div>
            <div class="flow-connector indigo" style="flex:0 0 20px;min-width:20px"></div>
            <div class="flow-node-sm hl-indigo" onclick="toggleExpand(this)">
              <span class="node-tooltip">Open-source marine data server, included</span>
              <div class="flow-node-tag tag-ocean">Bridge</div>
              <div class="flow-node-icon">üîÄ</div>
              <div class="flow-node-title">SignalK Server</div>
              <div class="flow-node-sub">NMEA ‚Üí JSON bridge</div>
              <div class="node-expand">Same SignalK server as Pi tier. Pre-configured ‚Äî runs as a background service on macOS.</div>
            </div>
            <div class="flow-connector indigo" style="flex:0 0 20px;min-width:20px"></div>
            <div class="flow-node-sm hl-indigo" onclick="toggleExpand(this)">
              <span class="node-tooltip">14B param LLM, full diagnostic capability</span>
              <div class="flow-node-tag tag-indigo">AI Engine</div>
              <div class="flow-node-icon">ü§ñ</div>
              <div class="flow-node-title">Qwen 2.5 ¬∑ 14B</div>
              <div class="flow-node-sub">Full-size LLM on-board</div>
              <div class="node-expand">14 billion parameter LLM. Full diagnostic capability, natural language queries, passage planning, fault prediction. Runs at ~30 tokens/sec on M4.</div>
            </div>
          </div>
        </div>

      </div>

      <!-- Converge arrow -->
      <div style="display:flex;flex-direction:column;align-items:center;gap:0;margin:4px 0 4px">
        <div style="width:2px;height:12px;background:linear-gradient(to bottom,var(--border),var(--sky))"></div>
        <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid var(--sky);margin-top:-1px"></div>
      </div>

      <!-- Shared Commander App -->
      <div class="flow-shared-node" style="margin-bottom:14px">
        <div class="flow-node highlight" style="min-width:280px;text-align:center">
          <div class="flow-node-tag tag-sky" style="display:inline-block">On-Board App</div>
          <div class="flow-node-icon">üì±</div>
          <div class="flow-node-title">Commander App</div>
          <div class="flow-node-sub" style="text-align:center">Connect via boat WiFi ¬∑ full dashboard, AI chat, no internet needed</div>
        </div>
      </div>

      <!-- Gateway bridge ‚Äî ONLINE -->
      <div class="flow-gateway">
        <div class="gateway-icon">üõ∞Ô∏è</div>
        <div class="gateway-text">
          <div class="gateway-title">ONLINE <span style="font-weight:500;color:var(--slate)">‚Äî Internet Gateway</span></div>
          <div class="gateway-sub">Starlink ¬∑ marina WiFi ¬∑ LTE ‚Äî optional uplink. Commander works 100% without it.</div>
        </div>
        <div class="gateway-badge" style="background:rgba(16,185,129,.12);color:#059669;border:1px solid rgba(16,185,129,.25)">Optional</div>
      </div>

      <!-- Down arrow to cloud -->
      <div style="display:flex;flex-direction:column;align-items:center;margin:0 0 12px">
        <div style="width:2px;height:14px;background:linear-gradient(to bottom,rgba(16,185,129,.4),#059669)"></div>
        <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #059669;margin-top:-1px"></div>
      </div>

      <!-- LAYER 2: CLOUD ‚Äî TREE FORK -->
      <div class="flow-label cloud">Cloud / Master ‚Äî Remote Layer</div>

      <!-- Master Cloud (centered root) -->
      <div style="display:flex;flex-direction:column;align-items:center">
        <div class="flow-node highlight-green" style="min-width:260px;text-align:center">
          <div class="flow-node-tag tag-green" style="display:inline-block">Cloud</div>
          <div class="flow-node-icon">üåê</div>
          <div class="flow-node-title">Master Cloud</div>
          <div class="flow-node-sub" style="text-align:center">Routes data, stores history, manages access and push alerts</div>
        </div>

        <!-- Trunk down to fork -->
        <div style="width:2px;height:20px;background:rgba(16,185,129,.45)"></div>

        <!-- Level 1 fork: WhatsApp + Web Interface -->
        <div class="cloud-fork-row">

          <!-- Left branch: WhatsApp -->
          <div class="cloud-fork-cell">
            <div class="flow-node highlight-green" style="width:100%;text-align:center">
              <div class="flow-node-tag tag-amber" style="display:inline-block">Alert</div>
              <div class="flow-node-icon">üì≤</div>
              <div class="flow-node-title">WhatsApp Alerts</div>
              <div class="flow-node-sub" style="text-align:center">AI-written alerts to captain, owner, or fleet manager</div>
            </div>
          </div>

          <!-- Right branch: Web Interface + sub-fork -->
          <div class="cloud-fork-cell">
            <div class="flow-node highlight-green" style="width:100%;text-align:center">
              <div class="flow-node-tag tag-sky" style="display:inline-block">Dashboard</div>
              <div class="flow-node-icon">üñ•Ô∏è</div>
              <div class="flow-node-title">Web Interface</div>
              <div class="flow-node-sub" style="text-align:center">Browser-based access from anywhere</div>
            </div>

            <!-- Sub-trunk -->
            <div class="cloud-sub-trunk"></div>

            <!-- Level 2 sub-fork: My Boat View + Fleet Dashboard -->
            <div class="cloud-subfork-row">
              <div class="cloud-subfork-cell">
                <div class="flow-node" style="width:100%;text-align:center;border-color:var(--sky);box-shadow:0 0 0 2px rgba(14,165,233,.1),var(--shadow)">
                  <div class="flow-node-tag tag-sky" style="display:inline-block">Single Boat</div>
                  <div class="flow-node-icon">‚õµ</div>
                  <div class="flow-node-title">My Boat View</div>
                  <div class="flow-node-sub" style="text-align:center">Status, position, alerts, history ‚Äî one vessel</div>
                </div>
              </div>
              <div class="cloud-subfork-cell opt-cell">
                <div class="flow-node optional" style="width:100%;text-align:center">
                  <div class="flow-node-tag tag-indigo" style="display:inline-block">Charter & Marina</div>
                  <div class="flow-node-icon">üö¢</div>
                  <div class="flow-node-title">Fleet Dashboard</div>
                  <div class="flow-node-sub" style="text-align:center">All vessels in one view ¬∑ 5+ boats</div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- LAYER 3: USERS ‚Äî Channel Grid -->
      <div style="margin-top:28px">
        <div class="flow-label users">Who Sees What</div>
        <div class="user-channel-grid">
          <div class="user-channel-card c-sky">
            <div class="ucc-top">
              <div class="ucc-icon">‚õµ</div>
              <div>
                <div class="ucc-name">Yacht Owner</div>
                <div class="ucc-desc">Private owners & live-aboards</div>
              </div>
            </div>
            <div class="ucc-channels">
              <span class="chan-badge cb-wa">WhatsApp</span>
              <span class="chan-badge cb-web">My Boat View</span>
            </div>
          </div>
          <div class="user-channel-card c-amber">
            <div class="ucc-top">
              <div class="ucc-icon">üß≠</div>
              <div>
                <div class="ucc-name">Delivery Captain</div>
                <div class="ucc-desc">Professional delivery skippers</div>
              </div>
            </div>
            <div class="ucc-channels">
              <span class="chan-badge cb-wa">WhatsApp</span>
              <span class="chan-badge cb-web">My Boat View</span>
            </div>
          </div>
          <div class="user-channel-card c-violet">
            <div class="ucc-top">
              <div class="ucc-icon">üîß</div>
              <div>
                <div class="ucc-name">Marine Technician</div>
                <div class="ucc-desc">Surveyors & service pros</div>
              </div>
            </div>
            <div class="ucc-channels">
              <span class="chan-badge cb-web">My Boat View</span>
            </div>
          </div>
          <div class="user-channel-card c-green">
            <div class="ucc-top">
              <div class="ucc-icon">üö¢</div>
              <div>
                <div class="ucc-name">Charter / Marina</div>
                <div class="ucc-desc">Fleet operators ¬∑ 5+ boats</div>
              </div>
            </div>
            <div class="ucc-channels">
              <span class="chan-badge cb-wa">WhatsApp</span>
              <span class="chan-badge cb-web">My Boat View</span>
              <span class="chan-badge cb-fleet">Fleet Dashboard</span>
            </div>
          </div>
        </div>
        <p style="font-size:.68rem;color:var(--slate);margin-top:8px;padding-left:2px">* Fleet Dashboard for Charter &amp; Marina operators with 5+ vessels only (dashed = optional)</p>
      </div>

    </div>
  </div>
</section>

<!-- WHO IT'S FOR -->
<section class="section" style="background:var(--surface);padding-top:72px;padding-bottom:72px" id="for">
  <div class="container">
    <div class="eyebrow">Built For</div>
    <h2 class="section-title">One system. Every captain.</h2>
    <p class="section-sub">MasterCommander adapts to how you use your boat ‚Äî whether you're managing a fleet or setting off solo.</p>
    <div class="personas-grid">

      <div class="persona sky">
        <div class="persona-top">
          <div>
            <div class="persona-icon">üö¢</div>
            <div class="persona-name">Fleet Manager</div>
            <div class="persona-desc">Charter operators & marina managers</div>
          </div>
          <span class="flow-node-tag tag-sky" style="font-size:.7rem;padding:3px 9px;border-radius:6px">Charter / Marina</span>
        </div>
        <div class="persona-list">
          <div class="persona-item"><span class="pi-check sky">‚úì</span>Monitor all vessels from a single dashboard</div>
          <div class="persona-item"><span class="pi-check sky">‚úì</span>Instant alerts for any boat in your fleet</div>
          <div class="persona-item"><span class="pi-check sky">‚úì</span>Automated turnaround checklists per vessel</div>
          <div class="persona-item"><span class="pi-check sky">‚úì</span>Charter handover reports via WhatsApp</div>
          <div class="persona-item"><span class="pi-check sky">‚úì</span>Historical data and analytics per vessel</div>
        </div>
      </div>

      <div class="persona emerald">
        <div class="persona-top">
          <div>
            <div class="persona-icon">‚õµ</div>
            <div class="persona-name">Yacht Owner</div>
            <div class="persona-desc">Private owners, live-aboards & bluewater sailors</div>
          </div>
          <span class="flow-node-tag tag-green" style="font-size:.7rem;padding:3px 9px;border-radius:6px">Private</span>
        </div>
        <div class="persona-list">
          <div class="persona-item"><span class="pi-check emerald">‚úì</span>Know your boat's status from anywhere</div>
          <div class="persona-item"><span class="pi-check emerald">‚úì</span>WhatsApp alerts while away from the boat</div>
          <div class="persona-item"><span class="pi-check emerald">‚úì</span>AI answers questions about your systems</div>
          <div class="persona-item"><span class="pi-check emerald">‚úì</span>Anchor drag, bilge, and security alerts</div>
          <div class="persona-item"><span class="pi-check emerald">‚úì</span>Full offline capability while underway</div>
        </div>
      </div>

      <div class="persona amber">
        <div class="persona-top">
          <div>
            <div class="persona-icon">üß≠</div>
            <div class="persona-name">Delivery Captain</div>
            <div class="persona-desc">Professional captains & delivery skippers</div>
          </div>
          <span class="flow-node-tag tag-amber" style="font-size:.7rem;padding:3px 9px;border-radius:6px">Delivery</span>
        </div>
        <div class="persona-list">
          <div class="persona-item"><span class="pi-check amber">‚úì</span>Per-trip setup ‚Äî no ongoing commitment</div>
          <div class="persona-item"><span class="pi-check amber">‚úì</span>Owner gets live WhatsApp updates en route</div>
          <div class="persona-item"><span class="pi-check amber">‚úì</span>Automatic passage report on arrival</div>
          <div class="persona-item"><span class="pi-check amber">‚úì</span>Works on any NMEA 2000 vessel</div>
          <div class="persona-item"><span class="pi-check amber">‚úì</span>Plug in, sail, unplug. Done.</div>
        </div>
      </div>

      <div class="persona violet">
        <div class="persona-top">
          <div>
            <div class="persona-icon">üîß</div>
            <div class="persona-name">Marine Technician</div>
            <div class="persona-desc">Surveyors, mechanics & service professionals</div>
          </div>
          <span class="flow-node-tag tag-violet" style="font-size:.7rem;padding:3px 9px;border-radius:6px">Professional</span>
        </div>
        <div class="persona-list">
          <div class="persona-item"><span class="pi-check violet">‚úì</span>Full NMEA 2000 diagnostic scan</div>
          <div class="persona-item"><span class="pi-check violet">‚úì</span>AI-assisted fault identification</div>
          <div class="persona-item"><span class="pi-check violet">‚úì</span>Exportable service reports per vessel</div>
          <div class="persona-item"><span class="pi-check violet">‚úì</span>Per-boat pricing, no subscription needed</div>
          <div class="persona-item"><span class="pi-check violet">‚úì</span>Builds a data history for each vessel</div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- PRICING -->
<section class="section" id="pricing">
  <div class="container">
    <div class="eyebrow">Pricing</div>
    <h2 class="section-title">Simple. Fair. No surprises.</h2>
    <p class="section-sub">Every plan includes the full MasterCommander system. Start free ‚Äî your first delivery or scan is on us.</p>
    <div class="pricing-grid">

      <!-- Private -->
      <div class="price-card" data-plan="private">
        <div class="price-persona" style="color:var(--emerald)">Yacht Owner</div>
        <div class="price-name">Private Plan</div>
        <div class="price-amount">$249.50</div>
        <div class="price-period">/boat ¬∑ first year</div>
        <div class="price-then">then $499/yr from year 2</div>
        <div class="price-trial">50% off ¬∑ year one only</div>
        <hr class="price-divider">
        <div class="price-feats">
          <div class="price-feat"><span class="pfcheck">‚úì</span>Full on-board dashboard</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>WhatsApp alerts anywhere</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>Anchor drag & bilge alerts</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>AI co-pilot underway</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>100% offline-capable</div>
        </div>
        <button class="btn btn-sky get-started-btn" data-plan="Private" style="width:100%;justify-content:center;">Get Started</button>
        <!-- TODO: Replace with Stripe Checkout redirect when ready -->
        <div class="price-note">One boat ¬∑ one price ¬∑ simple</div>
      </div>

      <!-- Delivery -->
      <div class="price-card" data-plan="delivery">
        <div class="price-persona" style="color:var(--amber)">Delivery Captain</div>
        <div class="price-name">Per-Trip Plan</div>
        <div class="price-amount" style="color:var(--emerald)">FREE</div>
        <div class="price-period">first delivery ¬∑ up to 30 days</div>
        <div class="price-then">then $175 per delivery</div>
        <div class="price-trial free-tag">First delivery on us</div>
        <hr class="price-divider">
        <div class="price-feats">
          <div class="price-feat"><span class="pfcheck">‚úì</span>Activate per voyage</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>Owner gets live updates</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>Auto arrival report</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>Any NMEA 2000 vessel</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>No subscription needed</div>
        </div>
        <button class="btn btn-outline get-started-btn" data-plan="Delivery" style="width:100%;justify-content:center;">Get Started</button>
        <!-- TODO: Replace with Stripe Checkout redirect when ready -->
        <div class="price-note">Try your first delivery free</div>
      </div>

      <!-- Marine Tech -->
      <div class="price-card" data-plan="tech">
        <div class="price-persona" style="color:var(--violet)">Marine Technician</div>
        <div class="price-name">Per-Boat Plan</div>
        <div class="price-amount" style="color:var(--emerald)">FREE</div>
        <div class="price-period">first boat ¬∑ up to 30 days</div>
        <div class="price-then">then $175 per boat</div>
        <div class="price-trial free-tag">First scan on us</div>
        <hr class="price-divider">
        <div class="price-feats">
          <div class="price-feat"><span class="pfcheck">‚úì</span>Full NMEA 2000 diagnostic</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>AI fault analysis</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>Exportable service reports</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>No subscription</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>Per-boat pricing</div>
        </div>
        <button class="btn btn-outline get-started-btn" data-plan="Marine Tech" style="width:100%;justify-content:center;">Get Started</button>
        <!-- TODO: Replace with Stripe Checkout redirect when ready -->
        <div class="price-note">Scan your first boat free</div>
      </div>

      <!-- Fleet -->
      <div class="price-card" data-plan="fleet">
        <span class="price-badge">Charter & Marina</span>
        <div class="price-persona" style="color:var(--sky)">Fleet Manager</div>
        <div class="price-name">Fleet Plan</div>
        <div class="price-amount">$124.50</div>
        <div class="price-period">/boat ¬∑ first year ¬∑ min 5 boats</div>
        <div class="price-then">then $249/boat/yr from year 2</div>
        <div class="price-trial">50% off ¬∑ year one only</div>
        <hr class="price-divider">
        <div class="price-feats">
          <div class="price-feat"><span class="pfcheck">‚úì</span>Fleet-wide dashboard</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>WhatsApp alerts per vessel</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>Charter turnaround tools</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>Historical data & reports</div>
          <div class="price-feat"><span class="pfcheck">‚úì</span>Priority support</div>
        </div>
        <button class="btn btn-sky get-started-btn" data-plan="Fleet" style="width:100%;justify-content:center;">Get Started</button>
        <div class="price-note">Min 5 boats ¬∑ scales with your fleet</div>
      </div>

    </div>
  </div>
</section>

<!-- SOLUTIONS -->
<section class="section" style="background:var(--surface);padding-top:72px;padding-bottom:72px" id="solutions">
  <div class="container">
    <div class="eyebrow">Solutions</div>
    <h2 class="section-title">Built for how you actually use your boat.</h2>
    <p class="section-sub">Whether you're at the helm, away at anchor, delivering across an ocean, or scanning a client's vessel ‚Äî there's a workflow for you.</p>

    <div class="sol-tabs">
      <button class="sol-tab active" data-tab="charter">Charter & Marina</button>
      <button class="sol-tab" data-tab="private">Private Owners</button>
      <button class="sol-tab" data-tab="delivery">Delivery Captains</button>
      <button class="sol-tab" data-tab="tech">Marine Tech</button>
    </div>

    <div class="sol-panels">

      <!-- Charter -->
      <div class="sol-panel active" id="tab-charter">
        <div class="sol-content">
          <div class="sol-features">
            <div><div class="sol-feat-title">Fleet-wide monitoring</div><div class="sol-feat-desc">See every vessel on a single dashboard ‚Äî engine health, fuel, position, and alerts at a glance.</div></div>
            <div><div class="sol-feat-title">Automated turnaround</div><div class="sol-feat-desc">Pre-departure checklists generated per vessel. Know exactly which boats are charter-ready.</div></div>
            <div><div class="sol-feat-title">WhatsApp handover reports</div><div class="sol-feat-desc">Guests get a welcome brief. Your team gets status confirmations. All automated.</div></div>
            <div><div class="sol-feat-title">Historical analytics</div><div class="sol-feat-desc">Engine hours, fuel usage, maintenance trends ‚Äî per vessel and across the fleet.</div></div>
            <div><div class="sol-feat-title">Instant alerts</div><div class="sol-feat-desc">Bilge pump, anchor drag, engine overheat ‚Äî know immediately, not when it's too late.</div></div>
          </div>
          <div class="panel" style="font-size:.85em">
            <div class="panel-head">
              <div class="panel-boat">FLEET OVERVIEW</div>
              <div style="display:flex;align-items:center;gap:6px"><div class="blink"></div><span class="live-tag">3 Vessels</span></div>
            </div>
            <div class="panel-body">
              <div class="pcard" style="border-left:3px solid #10B981">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
                  <span style="font-weight:700;font-size:.8rem">SV ATHENA</span>
                  <span style="font-size:.62rem;background:#ECFDF5;color:#059669;padding:2px 8px;border-radius:99px;font-weight:700">All Clear</span>
                </div>
                <div class="prow"><span class="plabel"><span class="dot dot-g"></span>Engines</span><span class="pval">Normal</span></div>
                <div class="prow"><span class="plabel">Fuel</span><span class="pval">78%</span></div>
              </div>
              <div class="pcard" style="border-left:3px solid #F59E0B">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
                  <span style="font-weight:700;font-size:.8rem">MV POSEIDON</span>
                  <span style="font-size:.62rem;background:#FFFBEB;color:#D97706;padding:2px 8px;border-radius:99px;font-weight:700">Fuel Low</span>
                </div>
                <div class="prow"><span class="plabel"><span class="dot dot-y"></span>Fuel</span><span class="pval" style="color:#D97706">22% ‚Äî refuel</span></div>
                <div class="prow"><span class="plabel">Position</span><span class="pval">Marina B, Slip 14</span></div>
              </div>
              <div class="pcard" style="border-left:3px solid #EF4444">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
                  <span style="font-weight:700;font-size:.8rem">SY NEPTUNE</span>
                  <span style="font-size:.62rem;background:#FEF2F2;color:#DC2626;padding:2px 8px;border-radius:99px;font-weight:700">Alert</span>
                </div>
                <div class="prow"><span class="plabel"><span class="dot dot-r"></span>Bilge</span><span class="pval" style="color:#DC2626">Pump active</span></div>
                <div class="prow"><span class="plabel">Alert sent</span><span class="pval">2 min ago</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Private -->
      <div class="sol-panel" id="tab-private">
        <div class="sol-content">
          <div class="sol-features">
            <div><div class="sol-feat-title">Know your boat from anywhere</div><div class="sol-feat-desc">Open WhatsApp and ask. Engine temps, fuel, anchor status, battery ‚Äî all in plain English.</div></div>
            <div><div class="sol-feat-title">Anchor watch at 2am</div><div class="sol-feat-desc">If the anchor drags past your safe radius, you'll know immediately. Sleep easy.</div></div>
            <div><div class="sol-feat-title">Bilge & security alerts</div><div class="sol-feat-desc">Water in the bilge? Commander texts you. No flooding surprises while you're at dinner.</div></div>
            <div><div class="sol-feat-title">AI co-pilot underway</div><div class="sol-feat-desc">Ask "safe to cross?" and get a real answer based on your fuel, weather, and engine state.</div></div>
            <div><div class="sol-feat-title">100% offline capable</div><div class="sol-feat-desc">On-board dashboard and AI work without internet. WhatsApp alerts activate when connected.</div></div>
          </div>
          <div class="wa-mock">
            <div class="wa-mock-header">
              <span>Commander</span>
              <span style="color:#25D366;font-size:.72rem">online</span>
            </div>
            <div class="wa-mock-body">
              <div class="wa-bubble user">Any alerts while I was at dinner?</div>
              <div class="wa-bubble bot">Anchor drifted 12m at 22:15 but recovered ‚Äî currently 4m from set point.<br><br>Bilge: dry ¬∑ Battery: 91% ¬∑ Wind: 18 kts SE<br><br>All good. Enjoy your evening.</div>
              <div class="wa-bubble user">Thanks. Safe to sleep?</div>
              <div class="wa-bubble bot">Anchor holding solid ¬∑ 4m drift<br>Wind 18 kts, no swing risk ¬∑ seabed good<br>Battery 91% overnight<br><br>You're good, Captain. Sleep well.</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Delivery -->
      <div class="sol-panel" id="tab-delivery">
        <div class="sol-content">
          <div class="sol-features">
            <div><div class="sol-feat-title">Per-trip activation</div><div class="sol-feat-desc">Plug in the Delivery Puck, activate for this voyage. No subscription, no commitment.</div></div>
            <div><div class="sol-feat-title">Owner gets live updates</div><div class="sol-feat-desc">Automatic WhatsApp updates to the boat owner ‚Äî position, ETA, and system status en route.</div></div>
            <div><div class="sol-feat-title">Automatic arrival report</div><div class="sol-feat-desc">When you arrive, Commander generates a full passage report: engine hours, fuel used, route taken.</div></div>
            <div><div class="sol-feat-title">Works on any vessel</div><div class="sol-feat-desc">Any boat with NMEA 2000. Bring your Puck, plug in, sail, unplug. Done.</div></div>
            <div><div class="sol-feat-title">First delivery free</div><div class="sol-feat-desc">Try the full system on your next delivery ‚Äî no cost, no commitment. See how it works.</div></div>
          </div>
          <div class="panel" style="font-size:.85em">
            <div class="panel-head">
              <div class="panel-boat">FORT LAUDERDALE ‚Üí NASSAU</div>
              <div style="display:flex;align-items:center;gap:6px"><div class="blink"></div><span class="live-tag">Underway</span></div>
            </div>
            <div class="panel-body">
              <div class="pcard">
                <div class="pcard-title">Trip Progress</div>
                <div style="background:var(--border);border-radius:99px;height:8px;margin:8px 0">
                  <div style="width:68%;background:var(--sky);border-radius:99px;height:100%"></div>
                </div>
                <div style="display:flex;justify-content:space-between;font-size:.72rem;color:var(--slate)">
                  <span>Departed 06:00</span><span style="font-weight:700">68%</span><span>ETA 17:30</span>
                </div>
              </div>
              <div class="pcard">
                <div class="pcard-title">Latest Owner Update (auto-sent)</div>
                <div style="font-size:.77rem;color:var(--text);line-height:1.5;padding:4px 0">
                  "CAMELOT III ‚Äî waypoint 3 of 4. All systems normal. ETA Nassau 17:30. ‚Äî Commander"
                </div>
              </div>
              <div class="pcard">
                <div class="prow"><span class="plabel"><span class="dot dot-g"></span>Engines</span><span class="pval">Normal</span></div>
                <div class="prow"><span class="plabel">Fuel</span><span class="pval">52%</span></div>
                <div class="prow"><span class="plabel">Wind</span><span class="pval">14 kts NE</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Marine Tech -->
      <div class="sol-panel" id="tab-tech">
        <div class="sol-content">
          <div class="sol-features">
            <div><div class="sol-feat-title">Full NMEA 2000 scan</div><div class="sol-feat-desc">Plug in and discover every device on the network. Get a complete picture in minutes.</div></div>
            <div><div class="sol-feat-title">AI-assisted diagnostics</div><div class="sol-feat-desc">Commander identifies faults, suggests root causes, and flags intermittent issues you'd miss manually.</div></div>
            <div><div class="sol-feat-title">Exportable service reports</div><div class="sol-feat-desc">Professional PDF reports for clients ‚Äî device inventory, fault log, recommendations. Branded to your business.</div></div>
            <div><div class="sol-feat-title">Per-boat pricing</div><div class="sol-feat-desc">Pay per boat scanned. No subscription. First scan free ‚Äî try it on your next haul-out.</div></div>
            <div><div class="sol-feat-title">Build a data history</div><div class="sol-feat-desc">Each scan adds to the vessel's history. Track changes over time and show clients real trends.</div></div>
          </div>
          <div class="panel" style="font-size:.85em">
            <div class="panel-head">
              <div class="panel-boat">NMEA 2000 DIAGNOSTIC</div>
              <div style="font-size:.72rem;color:#6EE7B7">SV MERIDIAN ¬∑ 14 devices</div>
            </div>
            <div class="panel-body">
              <div class="pcard">
                <div class="pcard-title">Devices Found</div>
                <div class="prow"><span class="plabel"><span class="dot dot-g"></span>VHF DSC Radio</span><span class="pval" style="font-size:.72rem">PGN 129026</span></div>
                <div class="prow"><span class="plabel"><span class="dot dot-g"></span>Chartplotter</span><span class="pval" style="font-size:.72rem">PGN 129029</span></div>
                <div class="prow"><span class="plabel"><span class="dot dot-y"></span>Depth Sounder</span><span class="pval" style="font-size:.72rem;color:#D97706">Intermittent</span></div>
                <div class="prow"><span class="plabel"><span class="dot dot-r"></span>Engine Monitor (Stbd)</span><span class="pval" style="font-size:.72rem;color:#DC2626">Offline</span></div>
              </div>
              <div class="ai-box">
                <div style="font-size:1rem;flex-shrink:0">AI</div>
                <div class="ai-box-text">
                  <strong>AI Analysis</strong>
                  Stbd engine monitor likely NMEA backbone terminator fault. Check T-connector at bulkhead. Depth sounder may be cable routing issue ‚Äî intermittent signal suggests corrosion.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- WHAT YOU GET -->
<section class="section" id="whatyouget">
  <div class="container">
    <div class="eyebrow">What You Get</div>
    <h2 class="section-title">Your dashboard, your way.</h2>
    <p class="section-sub">Whether you manage one boat or fifty ‚Äî here's what Master Cloud looks like when you log in.</p>

    <div class="wyg-toggle">
      <button class="wyg-toggle-btn active" data-wyg="single">Single Boat</button>
      <button class="wyg-toggle-btn" data-wyg="fleet">Fleet View</button>
    </div>

    <!-- Single Boat View -->
    <div class="wyg-panel active" id="wyg-single">
      <div class="wyg-panels">
        <div class="mockup-card">
          <div class="mockup-card-head">
            <span>CAMELOT III ‚Äî Live</span>
            <div style="display:flex;align-items:center;gap:5px"><div class="blink"></div><span style="color:#6EE7B7;font-size:.7rem;font-weight:700">Connected</span></div>
          </div>
          <div class="mockup-card-body">
            <div class="gauge-row">
              <div class="gauge">
                <div class="gauge-label">Port Engine</div>
                <div class="gauge-val">94¬∞F</div>
                <div class="gauge-bar"><div class="gauge-bar-fill" style="width:47%;background:var(--emerald)"></div></div>
              </div>
              <div class="gauge">
                <div class="gauge-label">Stbd Engine</div>
                <div class="gauge-val">91¬∞F</div>
                <div class="gauge-bar"><div class="gauge-bar-fill" style="width:45%;background:var(--emerald)"></div></div>
              </div>
              <div class="gauge">
                <div class="gauge-label">Fuel</div>
                <div class="gauge-val" style="color:#D97706">47%</div>
                <div class="gauge-bar"><div class="gauge-bar-fill" style="width:47%;background:var(--amber)"></div></div>
              </div>
            </div>
            <div class="pcard">
              <div class="prow"><span class="plabel">Anchor</span><span class="pval" style="color:var(--emerald)">Holding ¬∑ 3m drift</span></div>
              <div class="prow"><span class="plabel">Position</span><span class="pval">23¬∞04'N 82¬∞21'W</span></div>
              <div class="prow"><span class="plabel">Battery</span><span class="pval">87% ¬∑ solar +342W</span></div>
            </div>
          </div>
        </div>
        <div>
          <div class="mockup-card" style="margin-bottom:14px">
            <div class="mockup-card-head" style="background:#075E54">
              <span style="color:#fff">AI Chat</span>
              <span style="color:#25D366;font-size:.7rem">online</span>
            </div>
            <div style="background:#ECE5DD;padding:12px;display:flex;flex-direction:column;gap:6px">
              <div style="background:#DCF8C6;padding:7px 10px;border-radius:10px 10px 2px 10px;font-size:.78rem;align-self:flex-end;max-width:80%">How's fuel looking?</div>
              <div style="background:#fff;padding:7px 10px;border-radius:10px 10px 10px 2px;font-size:.78rem;max-width:85%;box-shadow:0 1px 2px rgba(0,0,0,.06)">47% ¬∑ ~6h range. Recommend refueling before Gulf crossing. Key Biscayne 8.4 nm ahead.</div>
            </div>
          </div>
          <div style="font-size:.82rem;font-weight:700;color:var(--text);margin-bottom:8px">Recent Alerts</div>
          <div class="alert-list">
            <div class="alert-item"><span class="alert-dot" style="background:var(--amber)"></span><span style="color:var(--slate)">Fuel below 50%</span><span style="margin-left:auto;font-size:.68rem;color:var(--slate)">12m ago</span></div>
            <div class="alert-item"><span class="alert-dot" style="background:var(--emerald)"></span><span style="color:var(--slate)">Anchor set confirmed</span><span style="margin-left:auto;font-size:.68rem;color:var(--slate)">2h ago</span></div>
            <div class="alert-item"><span class="alert-dot" style="background:var(--emerald)"></span><span style="color:var(--slate)">Engines shut down</span><span style="margin-left:auto;font-size:.68rem;color:var(--slate)">2h ago</span></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Fleet View -->
    <div class="wyg-panel" id="wyg-fleet">
      <div class="wyg-panels">
        <div class="mockup-card">
          <div class="mockup-card-head">
            <span>FLEET OVERVIEW ‚Äî 4 Vessels</span>
            <div style="display:flex;align-items:center;gap:5px"><div class="blink"></div><span style="color:#6EE7B7;font-size:.7rem;font-weight:700">Live</span></div>
          </div>
          <div class="mockup-card-body">
            <div class="fleet-card" style="border-left-color:var(--emerald)">
              <span class="fleet-card-badge" style="background:#ECFDF5;color:#059669">All Clear</span>
              <div class="fleet-card-name">SV ATHENA</div>
              <div class="fleet-card-status">Engines normal ¬∑ Fuel 78% ¬∑ Marina A, Slip 7</div>
            </div>
            <div class="fleet-card" style="border-left-color:var(--amber)">
              <span class="fleet-card-badge" style="background:#FFFBEB;color:#D97706">Fuel Low</span>
              <div class="fleet-card-name">MV POSEIDON</div>
              <div class="fleet-card-status">Fuel 22% ‚Äî needs refuel ¬∑ Marina B, Slip 14</div>
            </div>
            <div class="fleet-card" style="border-left-color:#EF4444">
              <span class="fleet-card-badge" style="background:#FEF2F2;color:#DC2626">Alert</span>
              <div class="fleet-card-name">SY NEPTUNE</div>
              <div class="fleet-card-status">Bilge pump active ¬∑ Alert sent 2m ago</div>
            </div>
            <div class="fleet-card" style="border-left-color:var(--emerald)">
              <span class="fleet-card-badge" style="background:#ECFDF5;color:#059669">All Clear</span>
              <div class="fleet-card-name">MY CALYPSO</div>
              <div class="fleet-card-status">At anchor ¬∑ Guest aboard ¬∑ Charter day 3</div>
            </div>
          </div>
        </div>
        <div>
          <div style="font-size:.82rem;font-weight:700;color:var(--text);margin-bottom:10px">Fleet Alert Feed</div>
          <div class="alert-list" style="margin-bottom:16px">
            <div class="alert-item"><span class="alert-dot" style="background:#EF4444"></span><span style="color:var(--slate)"><strong>NEPTUNE</strong> ‚Äî Bilge pump active</span><span style="margin-left:auto;font-size:.68rem;color:var(--slate)">2m</span></div>
            <div class="alert-item"><span class="alert-dot" style="background:var(--amber)"></span><span style="color:var(--slate)"><strong>POSEIDON</strong> ‚Äî Fuel below 25%</span><span style="margin-left:auto;font-size:.68rem;color:var(--slate)">18m</span></div>
            <div class="alert-item"><span class="alert-dot" style="background:var(--emerald)"></span><span style="color:var(--slate)"><strong>CALYPSO</strong> ‚Äî Guest check-in complete</span><span style="margin-left:auto;font-size:.68rem;color:var(--slate)">1h</span></div>
            <div class="alert-item"><span class="alert-dot" style="background:var(--emerald)"></span><span style="color:var(--slate)"><strong>ATHENA</strong> ‚Äî Post-charter inspection OK</span><span style="margin-left:auto;font-size:.68rem;color:var(--slate)">3h</span></div>
          </div>
          <div style="font-size:.82rem;font-weight:700;color:var(--text);margin-bottom:8px">Turnaround Checklist ‚Äî ATHENA</div>
          <div style="display:flex;flex-direction:column;gap:5px">
            <div style="font-size:.78rem;display:flex;align-items:center;gap:6px"><span style="color:var(--emerald)">‚úì</span> Fuel topped off</div>
            <div style="font-size:.78rem;display:flex;align-items:center;gap:6px"><span style="color:var(--emerald)">‚úì</span> Water tanks full</div>
            <div style="font-size:.78rem;display:flex;align-items:center;gap:6px"><span style="color:var(--emerald)">‚úì</span> Engine oil checked</div>
            <div style="font-size:.78rem;display:flex;align-items:center;gap:6px"><span style="color:var(--slate)">‚óã</span> Interior cleaned</div>
            <div style="font-size:.78rem;display:flex;align-items:center;gap:6px"><span style="color:var(--slate)">‚óã</span> Safety briefing scheduled</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- DEMO -->
<section class="section" id="demo">
  <div class="container">
    <div class="eyebrow">Live Demo</div>
    <h2 class="section-title">Ask Commander anything.</h2>
    <p class="section-sub">This is exactly what your crew sees on WhatsApp. Try it ‚Äî type anything or tap a preset.</p>

    <div class="demo-layout">
      <!-- Phone -->
      <div>
        <div class="demo-phone">
          <div class="demo-phone-header">
            <span>Commander</span>
            <div style="display:flex;align-items:center;gap:5px"><div class="blink" style="background:#25D366"></div><span style="font-size:.72rem;color:#25D366">online</span></div>
          </div>
          <div class="demo-messages" id="demoMessages">
            <div class="demo-msg bot">
              <div class="demo-bubble bot">I'm Commander. I know your boat inside out ‚Äî engines, fuel, anchor, weather. Ask me anything.</div>
            </div>
          </div>
          <div class="demo-pills-area" id="demoPills"></div>
          <div class="demo-input-row">
            <input type="text" id="demoInput" placeholder="Type a question..." class="demo-input">
            <button onclick="sendDemoMsg()" class="demo-send-btn">&#10148;</button>
          </div>
        </div>
      </div>

      <!-- Controls -->
      <div class="demo-queries-wrap">
        <div class="demo-queries-label">Quick Commands</div>
        <div class="demo-queries">
          <button class="demo-query-btn" onclick="runDemo('status')">Full Status</button>
          <button class="demo-query-btn" onclick="runDemo('engines')">Engine Check</button>
          <button class="demo-query-btn" onclick="runDemo('fuel')">Fuel Report</button>
          <button class="demo-query-btn" onclick="runDemo('anchor')">Anchor Watch</button>
          <button class="demo-query-btn" onclick="runDemo('weather')">Weather</button>
          <button class="demo-query-btn" onclick="runDemo('insight')">AI Insight</button>
        </div>
        <button class="demo-autoplay-btn" onclick="runAutoPlay()">&#9654; Watch Auto Demo</button>
        <div class="demo-hint">Try natural language: "how's the fuel?", "is it safe to sleep?", "ready to depart?"</div>
      </div>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta">
  <div class="container">
    <h2>Ready to sleep easy?</h2>
    <p>Whether you're managing a fleet or setting off solo ‚Äî MasterCommander is ready. Chat with us or drop a message.</p>
    <div class="cta-btns">
      <a href="https://wa.me/13055601031" target="_blank" class="btn btn-sky btn-lg">Chat on WhatsApp</a>
      <button class="btn btn-ghost-white btn-lg" onclick="openContactModal()">Get In Touch</button>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="container">
    <div class="footer-inner">
      <div class="logo">Master<span>Commander</span><span class="logo-dot">.ai</span></div>
      <div class="footer-links">
        <a href="#how">How It Works</a>
        <a href="#for">Who It's For</a>
        <a href="#pricing">Pricing</a>
        <a href="#solutions">Solutions</a>
        <a href="#demo">Demo</a>
        <a href="https://wa.me/13055601031" target="_blank">Contact</a>
      </div>
      <div class="footer-copy">&copy; 2026 MasterCommander</div>
    </div>
  </div>
</footer>

<!-- CONTACT MODAL -->
<div class="contact-overlay" id="contact-overlay" onclick="if(event.target===this)closeContactModal()">
  <div class="contact-modal">
    <button class="close-modal" onclick="closeContactModal()">&times;</button>
    <h3>Get In Touch</h3>
    <form class="contact-form" id="contact-form" onsubmit="return submitContact(event)">
      <input type="text" id="contact-name" placeholder="Your name" required>
      <input type="email" id="contact-email" placeholder="Email address" required>
      <select id="contact-plan">
        <option value="">Plan interest (optional)</option>
        <option value="Private">Private ‚Äî Yacht Owner</option>
        <option value="Delivery">Delivery ‚Äî Per-Trip</option>
        <option value="Marine Tech">Marine Tech ‚Äî Per-Boat</option>
        <option value="Fleet">Fleet ‚Äî Charter & Marina</option>
      </select>
      <textarea id="contact-message" placeholder="Message (optional)"></textarea>
      <button type="submit">Send Message</button>
    </form>
    <div class="contact-success" id="contact-success" style="display:none">
      <h4>Thanks! We'll be in touch.</h4>
      <p>Expect a reply within 24 hours.</p>
    </div>
  </div>
</div>

<!-- DASHBOARD OVERLAY -->
<div class="dash-overlay" id="dash-overlay" onclick="if(event.target===this)mcDashboard.close()">
  <div class="dash-modal">
    <button class="dash-close" onclick="mcDashboard.close()">&times;</button>
    <div class="dash-welcome">
      <h2 id="dash-greeting">Welcome</h2>
      <span class="verify-badge" id="dash-verify-badge"></span>
    </div>
    <div class="dash-section">
      <h3>My Boats</h3>
      <div class="boats-grid" id="boats-grid"></div>
      <div id="boat-form-area"></div>
      <button class="add-boat-btn" id="add-boat-btn" onclick="mcDashboard.showAddBoat()">+ Add Boat</button>
      <div class="dash-msg" id="boats-msg"></div>
    </div>
    <div class="dash-section">
      <h3>Profile</h3>
      <div class="dash-form" id="profile-form">
        <label>Name <input type="text" id="prof-name" placeholder="Full name"></label>
        <label>Email <input type="email" id="prof-email" readonly></label>
        <label>Phone <input type="tel" id="prof-phone" placeholder="Phone number"></label>
        <label>Company <input type="text" id="prof-company" placeholder="Company / Fleet name"></label>
        <div class="full-width"><button onclick="mcDashboard.saveProfile()">Save Profile</button></div>
      </div>
      <div class="dash-msg" id="profile-msg"></div>
    </div>
    <div class="dash-section">
      <h3>Change Password</h3>
      <div class="dash-form">
        <label>Current Password <input type="password" id="pw-current" autocomplete="current-password"></label>
        <label>New Password <input type="password" id="pw-new" placeholder="8+ characters" autocomplete="new-password"></label>
        <label>Confirm <input type="password" id="pw-confirm" autocomplete="new-password"></label>
        <div><button onclick="mcDashboard.changePassword()">Change Password</button></div>
      </div>
      <div class="dash-msg" id="password-msg"></div>
    </div>
  </div>
</div>

<!-- PASSWORD RESET MODAL -->
<div class="auth-modal-overlay" id="reset-modal">
  <div class="auth-modal">
    <button class="auth-modal-close" onclick="document.getElementById('reset-modal').classList.remove('open')">&times;</button>
    <h3>Reset Password</h3>
    <form id="auth-reset" onsubmit="return mcAuth.resetPassword(event)">
      <input type="password" id="reset-password" placeholder="New password (8+ chars)" autocomplete="new-password" required minlength="8">
      <input type="password" id="reset-confirm" placeholder="Confirm new password" autocomplete="new-password" required minlength="8">
      <div class="auth-error" id="reset-error"></div>
      <div class="auth-success" id="reset-success"></div>
      <button type="submit" id="reset-submit">Reset Password</button>
    </form>
  </div>
</div>

<script>
/* Pricing card click-to-select */
document.querySelectorAll('.price-card').forEach(card => {
  card.addEventListener('click', (e) => {
    if (e.target.closest('.get-started-btn')) return;
    document.querySelectorAll('.price-card').forEach(c => c.classList.remove('selected'));
    card.classList.add('selected');
  });
});

/* Get Started buttons ‚Üí Stripe checkout if logged in, contact modal fallback */
document.querySelectorAll('.get-started-btn').forEach(btn => {
  btn.addEventListener('click', async (e) => {
    e.stopPropagation();
    var plan = btn.dataset.plan || '';
    var token = localStorage.getItem('mc_token');
    if (!token) { openContactModal(plan); return; }
    try {
      btn.disabled = true;
      btn.textContent = 'Loading...';
      var res = await fetch('/api/billing/checkout', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + token },
        body: JSON.stringify({ plan: plan })
      });
      if (res.status === 503 || res.status === 401 || !res.ok) {
        openContactModal(plan);
        return;
      }
      var data = await res.json();
      if (data.url) { window.location.href = data.url; return; }
      openContactModal(plan);
    } catch {
      openContactModal(plan);
    } finally {
      btn.disabled = false;
      btn.textContent = 'Get Started';
    }
  });
});

/* Solutions tabs */
document.querySelectorAll('.sol-tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.sol-tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.sol-panel').forEach(p => p.classList.remove('active'));
    tab.classList.add('active');
    document.getElementById('tab-' + tab.dataset.tab).classList.add('active');
  });
});

/* What You Get toggle */
document.querySelectorAll('.wyg-toggle-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.wyg-toggle-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.wyg-panel').forEach(p => p.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById('wyg-' + btn.dataset.wyg).classList.add('active');
  });
});

/* Diagram node expand toggle */
function toggleExpand(node) {
  var expand = node.querySelector('.node-expand');
  if (!expand) return;
  var wasOpen = expand.classList.contains('open');
  document.querySelectorAll('.node-expand.open').forEach(e => e.classList.remove('open'));
  if (!wasOpen) expand.classList.add('open');
}

/* Contact modal */
function openContactModal(plan) {
  document.getElementById('contact-form').style.display = '';
  document.getElementById('contact-success').style.display = 'none';
  document.getElementById('contact-form').reset();
  if (plan) document.getElementById('contact-plan').value = plan;
  document.getElementById('contact-overlay').classList.add('open');
}
function closeContactModal() {
  document.getElementById('contact-overlay').classList.remove('open');
}
function submitContact(e) {
  e.preventDefault();
  var data = {
    name: document.getElementById('contact-name').value,
    email: document.getElementById('contact-email').value,
    plan: document.getElementById('contact-plan').value,
    message: document.getElementById('contact-message').value
  };
  // Try POST to /api/contact ‚Äî fallback to mailto if 404
  fetch('/api/contact', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  }).then(res => {
    if (res.ok) {
      document.getElementById('contact-form').style.display = 'none';
      document.getElementById('contact-success').style.display = '';
    } else { throw new Error('not ok'); }
  }).catch(() => {
    // Fallback: mailto
    var subject = 'MasterCommander Inquiry' + (data.plan ? ' ‚Äî ' + data.plan : '');
    var body = 'Name: ' + data.name + '\nEmail: ' + data.email + '\nPlan: ' + (data.plan || 'N/A') + '\n\n' + (data.message || '');
    window.location.href = 'mailto:overlord.gil.ai@gmail.com?subject=' + encodeURIComponent(subject) + '&body=' + encodeURIComponent(body);
    document.getElementById('contact-form').style.display = 'none';
    document.getElementById('contact-success').style.display = '';
  });
  return false;
}

/* ‚îÄ‚îÄ INTERACTIVE DEMO ‚îÄ‚îÄ */
const demoData = {
  status: {
    q: "Full status ‚Äî how's CAMELOT III?",
    text: "<strong>CAMELOT III ‚Äî Full Status</strong>\n\n‚úÖ Port engine: 94¬∞F ¬∑ 2,400 rpm\n‚úÖ Starboard: 91¬∞F ¬∑ 2,380 rpm\n‚ö†Ô∏è Fuel: 47% ‚Äî refuel before Gulf crossing\n‚úÖ Bilge: dry\n‚úÖ Anchor: holding, 3m drift\n‚úÖ House bank: 87% ¬∑ solar +342W\nüìç 23¬∞04'N 82¬∞21'W ¬∑ Wind 12 kts SE",
    pills: ['Enough fuel?', 'Any alerts?']
  },
  engines: {
    q: "Engine check",
    text: "<strong>Engine Report</strong>\n\nPort: 94¬∞F ¬∑ 2,400 rpm ¬∑ oil 42 psi ‚úÖ\nStarboard: 91¬∞F ¬∑ 2,380 rpm ¬∑ oil 44 psi ‚úÖ\nHours: Port 1,247h / Stbd 1,239h\n\n<strong>Commander:</strong> All readings normal. Next service at 1,300h.",
    pills: ['Fuel status?', 'Navigation?']
  },
  fuel: {
    q: "Fuel report",
    text: "<strong>Fuel Report</strong>\n\nMain tank: 47% ¬∑ ~127 gallons\nBurn rate: ~12.5 gph ¬∑ Range: ~6h\nNearest fuel: Key Biscayne Marina ¬∑ 8.4 nm\n\n‚ö†Ô∏è <strong>Recommend topping up before Gulf crossing.</strong>",
    pills: ['Plan route', 'Engine status?']
  },
  anchor: {
    q: "Anchor watch status",
    text: "<strong>Anchor Watch ‚Äî ACTIVE</strong>\n\nSet position: 23¬∞04.2'N 82¬∞21.0'W\nDrift: 3m (within 45m radius) ‚úÖ\nChain: 38ft ¬∑ seabed: sand ¬∑ holding well\nWind: 12 kts SE ¬∑ no swing risk\n\n‚úÖ <strong>Commander:</strong> Holding solid.",
    pills: ['Safe to sleep?', 'Weather check']
  },
  weather: {
    q: "What's the weather?",
    text: "<strong>Weather</strong>\n\nNow: SE 12 kts ¬∑ gusts 16 ¬∑ seas 2-3 ft\nBarometer: 30.12 ‚Üî stable\nTonight: SE backing E, 8-10 kts ¬∑ calm\nTomorrow: SE 15-20 kts ¬∑ 3-4 ft ¬∑ showers PM\n\n<strong>Window tonight is great. Depart by 0600 to beat the swell.</strong>",
    pills: ['Anchor holding?', 'Fuel for crossing?']
  },
  insight: {
    q: "Give me your AI insight",
    text: "<strong>Commander AI ‚Äî Insight</strong>\n\nTop action: Fuel at 47%. Gulf crossing needs ~5-6h. Refuel at Key Biscayne (8.4 nm) before departure.\n\nEverything else nominal: engines healthy, anchor holding, weather window open tonight.\n\n<strong>Ready for overnight departure.</strong> üåô",
    pills: ['Full status?', 'Set anchor watch']
  },
  safe_sleep: {
    q: "Safe to sleep?",
    text: "‚úÖ <strong>Sleep easy, Captain.</strong>\n\nAnchor: 3m drift ¬∑ 45m radius clear ‚úÖ\nBilge: dry ‚úÖ\nEngines: off, cooling fine ‚úÖ\nBattery: 87% overnight ‚úÖ\nWeather tonight: calm, 8-10 kts\n\nüåô <strong>You're good.</strong>",
    pills: ['Thank you', 'Set alarm 0600']
  }
};

const fallbackResp = {
  text: "I understand ‚Äî let me check the boat systems.\n\nAll critical systems normal: engines healthy, anchor holding, bilge dry.\n\nAsk me about engines, fuel, anchor, weather, or say <strong>'full status'</strong> for everything.",
  pills: ['Full status?', 'Engine check']
};

const nlpPatterns = [
  { re: /status|how.*boat|everything|overview/i, key: 'status' },
  { re: /engine|rpm|temp|oil/i, key: 'engines' },
  { re: /fuel|gas|tank|range|gallons/i, key: 'fuel' },
  { re: /anchor|holding|drag|drift/i, key: 'anchor' },
  { re: /weather|wind|wave|sea|swell|baro/i, key: 'weather' },
  { re: /insight|recommend|advice|what.*do|depart|ready/i, key: 'insight' },
  { re: /sleep|night|safe|rest/i, key: 'safe_sleep' },
  { re: /thank|thanks|cheers/i, key: null }
];

const thanksResp = { text: "Anytime, Captain. I'm here if you need me. ü´°", pills: ['Full status?', 'Weather?'] };

function addMsg(role, html) {
  const msgs = document.getElementById('demoMessages');
  const div = document.createElement('div');
  div.className = 'demo-msg ' + role;
  const bubble = document.createElement('div');
  bubble.className = 'demo-bubble ' + role;
  if (role === 'bot') {
    bubble.innerHTML = html.replace(/\n/g, '<br>');
  } else {
    bubble.textContent = html;
  }
  div.appendChild(bubble);
  msgs.appendChild(div);
  msgs.scrollTop = msgs.scrollHeight;
}

function showTyping() {
  const msgs = document.getElementById('demoMessages');
  const div = document.createElement('div');
  div.id = 'typingIndicator';
  div.className = 'demo-msg bot';
  div.innerHTML = '<div class="typing-bubble"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>';
  msgs.appendChild(div);
  msgs.scrollTop = msgs.scrollHeight;
}

function hideTyping() {
  const el = document.getElementById('typingIndicator');
  if (el) el.remove();
}

function showPills(pills) {
  const area = document.getElementById('demoPills');
  area.innerHTML = '';
  (pills || []).forEach(p => {
    const btn = document.createElement('button');
    btn.className = 'demo-pill';
    btn.textContent = p;
    btn.onclick = () => sendManual(p);
    area.appendChild(btn);
  });
}

function respond(data) {
  showTyping();
  setTimeout(() => {
    hideTyping();
    addMsg('bot', data.text);
    showPills(data.pills);
  }, 1000 + Math.random() * 500);
}

function runDemo(key) {
  document.getElementById('demoPills').innerHTML = '';
  const d = demoData[key];
  if (!d) return;
  addMsg('user', d.q);
  respond(d);
}

function sendManual(text) {
  document.getElementById('demoPills').innerHTML = '';
  addMsg('user', text);
  let matched = null;
  for (const p of nlpPatterns) {
    if (p.re.test(text)) {
      if (p.key === null) { respond(thanksResp); return; }
      matched = demoData[p.key] || null;
      break;
    }
  }
  respond(matched || fallbackResp);
}

function sendDemoMsg() {
  const inp = document.getElementById('demoInput');
  const text = inp.value.trim();
  if (!text) return;
  inp.value = '';
  sendManual(text);
}

document.getElementById('demoInput').addEventListener('keydown', e => {
  if (e.key === 'Enter') sendDemoMsg();
});

let autoPlaying = false;
function runAutoPlay() {
  if (autoPlaying) return;
  autoPlaying = true;
  const msgs = document.getElementById('demoMessages');
  msgs.innerHTML = '';
  document.getElementById('demoPills').innerHTML = '';
  addMsg('bot', 'Auto demo starting ‚Äî a typical evening check-in...');

  const steps = [
    { delay: 1500, fn: () => addMsg('user', 'just anchored ‚Äî give me full status') },
    { delay: 2800, fn: () => respond(demoData.status) },
    { delay: 6500, fn: () => addMsg('user', 'anchor holding ok?') },
    { delay: 7800, fn: () => respond(demoData.anchor) },
    { delay: 11500, fn: () => addMsg('user', 'safe to sleep?') },
    { delay: 12800, fn: () => respond(demoData.safe_sleep) },
    { delay: 16000, fn: () => { autoPlaying = false; } }
  ];

  steps.forEach(s => setTimeout(s.fn, s.delay));
}
</script>

<!-- Auth + Dashboard -->
<script>
(function() {
  const API = '/api/auth';

  function authHeaders() {
    var t = localStorage.getItem('mc_token');
    return t ? { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + t } : { 'Content-Type': 'application/json' };
  }
  function escAttr(s) { return String(s || '').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;'); }

  window.mcDashboard = {
    _editingBoatId: null,
    _busy: false,
    open: function() {
      document.getElementById('dash-overlay').classList.add('open');
      mcDashboard.loadProfile();
      mcDashboard.loadBoats();
      document.querySelectorAll('.dash-msg').forEach(function(el) { el.textContent = ''; el.className = 'dash-msg'; });
      document.getElementById('pw-current').value = '';
      document.getElementById('pw-new').value = '';
      document.getElementById('pw-confirm').value = '';
    },
    close: function() { document.getElementById('dash-overlay').classList.remove('open'); },
    loadProfile: async function() {
      try {
        var res = await fetch('/api/user/profile', { headers: authHeaders() });
        if (!res.ok) return;
        var data = await res.json();
        document.getElementById('dash-greeting').textContent = 'Welcome, ' + data.name.split(' ')[0];
        var badge = document.getElementById('dash-verify-badge');
        if (data.email_verified) { badge.textContent = 'Verified'; badge.className = 'verify-badge verified'; }
        else { badge.textContent = 'Unverified'; badge.className = 'verify-badge unverified'; }
        document.getElementById('prof-name').value = data.name;
        document.getElementById('prof-email').value = data.email;
        document.getElementById('prof-phone').value = data.phone || '';
        document.getElementById('prof-company').value = data.company || '';
      } catch(e) {}
    },
    saveProfile: async function() {
      if (mcDashboard._busy) return; mcDashboard._busy = true;
      var msg = document.getElementById('profile-msg'); msg.textContent = ''; msg.className = 'dash-msg';
      try {
        var res = await fetch('/api/user/profile', { method: 'PUT', headers: authHeaders(), body: JSON.stringify({ name: document.getElementById('prof-name').value, phone: document.getElementById('prof-phone').value, company: document.getElementById('prof-company').value }) });
        var data = await res.json();
        if (!res.ok) { msg.textContent = data.error; msg.className = 'dash-msg error'; return; }
        msg.textContent = 'Profile saved.'; msg.className = 'dash-msg success';
        var user = JSON.parse(localStorage.getItem('mc_user') || '{}');
        user.name = document.getElementById('prof-name').value;
        localStorage.setItem('mc_user', JSON.stringify(user));
        document.getElementById('auth-toggle').textContent = user.name.split(' ')[0];
        document.getElementById('auth-user-name').textContent = user.name;
        document.getElementById('dash-greeting').textContent = 'Welcome, ' + user.name.split(' ')[0];
      } catch(e) { msg.textContent = 'Connection error.'; msg.className = 'dash-msg error'; } finally { mcDashboard._busy = false; }
    },
    changePassword: async function() {
      var msg = document.getElementById('password-msg'); msg.textContent = ''; msg.className = 'dash-msg';
      var pw = document.getElementById('pw-new').value;
      if (pw !== document.getElementById('pw-confirm').value) { msg.textContent = 'Passwords do not match.'; msg.className = 'dash-msg error'; return; }
      try {
        var res = await fetch('/api/user/password', { method: 'PUT', headers: authHeaders(), body: JSON.stringify({ current_password: document.getElementById('pw-current').value, new_password: pw }) });
        var data = await res.json();
        if (!res.ok) { msg.textContent = data.error; msg.className = 'dash-msg error'; return; }
        msg.textContent = 'Password changed.'; msg.className = 'dash-msg success';
        document.getElementById('pw-current').value = ''; document.getElementById('pw-new').value = ''; document.getElementById('pw-confirm').value = '';
      } catch(e) { msg.textContent = 'Connection error.'; msg.className = 'dash-msg error'; }
    },
    loadBoats: async function() {
      try {
        var res = await fetch('/api/boats', { headers: authHeaders() });
        if (!res.ok) return;
        var data = await res.json();
        var grid = document.getElementById('boats-grid'); grid.innerHTML = '';
        if (data.boats.length === 0) { grid.innerHTML = '<p style="color:var(--slate);font-size:0.85rem">No boats registered yet.</p>'; return; }
        data.boats.forEach(function(b) {
          var card = document.createElement('div'); card.className = 'boat-card';
          var h4 = document.createElement('h4'); h4.textContent = b.name; card.appendChild(h4);
          if (b.model || b.year) { var p1 = document.createElement('p'); p1.textContent = (b.model || '') + (b.model && b.year ? ' (' + b.year + ')' : (b.year || '')); card.appendChild(p1); }
          if (b.mmsi) { var p2 = document.createElement('p'); p2.textContent = 'MMSI: ' + b.mmsi; card.appendChild(p2); }
          if (b.home_port) { var p3 = document.createElement('p'); p3.textContent = b.home_port; card.appendChild(p3); }
          var actions = document.createElement('div'); actions.className = 'boat-actions';
          var editBtn = document.createElement('button'); editBtn.textContent = 'Edit'; editBtn.addEventListener('click', function() { mcDashboard.editBoat(b.id); }); actions.appendChild(editBtn);
          var delBtn = document.createElement('button'); delBtn.className = 'delete-btn'; delBtn.textContent = 'Delete'; delBtn.addEventListener('click', function() { mcDashboard.deleteBoat(b.id, b.name); }); actions.appendChild(delBtn);
          card.appendChild(actions); grid.appendChild(card);
        });
      } catch(e) {}
    },
    showAddBoat: function() {
      mcDashboard._editingBoatId = null;
      document.getElementById('boat-form-area').innerHTML = '<div class="boat-form"><input type="text" id="bf-name" placeholder="Boat name *"><input type="text" id="bf-model" placeholder="Model"><input type="number" id="bf-year" placeholder="Year" min="1900" max="2099"><input type="text" id="bf-mmsi" placeholder="MMSI"><input type="text" id="bf-port" placeholder="Home port"><div class="boat-form-btns"><button class="save-btn" onclick="mcDashboard.saveBoat()">Add Boat</button><button class="cancel-btn" onclick="mcDashboard.hideBoatForm()">Cancel</button></div></div>';
      document.getElementById('add-boat-btn').style.display = 'none';
    },
    hideBoatForm: function() { document.getElementById('boat-form-area').innerHTML = ''; document.getElementById('add-boat-btn').style.display = ''; mcDashboard._editingBoatId = null; },
    saveBoat: async function() {
      if (mcDashboard._busy) return; mcDashboard._busy = true;
      var msg = document.getElementById('boats-msg'); msg.textContent = ''; msg.className = 'dash-msg';
      var name = document.getElementById('bf-name').value.trim();
      if (!name) { msg.textContent = 'Boat name is required.'; msg.className = 'dash-msg error'; mcDashboard._busy = false; return; }
      var body = { name: name, model: document.getElementById('bf-model').value, year: document.getElementById('bf-year').value || null, mmsi: document.getElementById('bf-mmsi').value, home_port: document.getElementById('bf-port').value };
      try {
        var url = mcDashboard._editingBoatId ? '/api/boats/' + mcDashboard._editingBoatId : '/api/boats';
        var method = mcDashboard._editingBoatId ? 'PUT' : 'POST';
        var res = await fetch(url, { method: method, headers: authHeaders(), body: JSON.stringify(body) });
        var data = await res.json();
        if (!res.ok) { msg.textContent = data.error; msg.className = 'dash-msg error'; return; }
        mcDashboard.hideBoatForm(); mcDashboard.loadBoats();
      } catch(e) { msg.textContent = 'Connection error.'; msg.className = 'dash-msg error'; } finally { mcDashboard._busy = false; }
    },
    editBoat: async function(id) {
      try {
        var res = await fetch('/api/boats', { headers: authHeaders() });
        if (!res.ok) return;
        var data = await res.json();
        var boat = data.boats.find(function(b) { return b.id === id; });
        if (!boat) return;
        mcDashboard._editingBoatId = id;
        document.getElementById('boat-form-area').innerHTML = '<div class="boat-form"><input type="text" id="bf-name" placeholder="Boat name *" value="' + escAttr(boat.name) + '"><input type="text" id="bf-model" placeholder="Model" value="' + escAttr(boat.model) + '"><input type="number" id="bf-year" placeholder="Year" min="1900" max="2099" value="' + escAttr(boat.year) + '"><input type="text" id="bf-mmsi" placeholder="MMSI" value="' + escAttr(boat.mmsi) + '"><input type="text" id="bf-port" placeholder="Home port" value="' + escAttr(boat.home_port) + '"><div class="boat-form-btns"><button class="save-btn" onclick="mcDashboard.saveBoat()">Save Changes</button><button class="cancel-btn" onclick="mcDashboard.hideBoatForm()">Cancel</button></div></div>';
        document.getElementById('add-boat-btn').style.display = 'none';
      } catch(e) {}
    },
    deleteBoat: async function(id, name) {
      if (mcDashboard._busy) return;
      if (!confirm('Delete "' + name + '"? This cannot be undone.')) return;
      mcDashboard._busy = true;
      var msg = document.getElementById('boats-msg'); msg.textContent = ''; msg.className = 'dash-msg';
      try {
        var res = await fetch('/api/boats/' + id, { method: 'DELETE', headers: authHeaders() });
        if (!res.ok) { var data = await res.json(); msg.textContent = data.error; msg.className = 'dash-msg error'; return; }
        mcDashboard.loadBoats();
      } catch(e) { msg.textContent = 'Connection error.'; msg.className = 'dash-msg error'; } finally { mcDashboard._busy = false; }
    },
    resendVerify: async function() {
      try {
        var res = await fetch(API + '/resend-verify', { method: 'POST', headers: authHeaders() });
        var data = await res.json();
        var link = document.getElementById('resend-verify');
        link.textContent = data.message || 'Sent!';
        setTimeout(function() { link.textContent = 'Resend verification email'; }, 3000);
      } catch(e) {}
    },
    checkVerifyBanner: function(user) {
      var banner = document.getElementById('verify-banner');
      if (user && user.email_verified === false) { banner.classList.add('visible'); document.body.classList.add('has-verify-banner'); }
      else { banner.classList.remove('visible'); document.body.classList.remove('has-verify-banner'); }
    }
  };

  window.mcAuth = {
    showForm: function(name) {
      document.querySelectorAll('#auth-dropdown .auth-form').forEach(f => f.classList.remove('active'));
      document.getElementById('auth-' + name).classList.add('active');
      document.querySelectorAll('.auth-error, .auth-success').forEach(el => el.textContent = '');
      var login = document.getElementById('nav-login');
      if (!login.classList.contains('open')) login.classList.add('open');
    },
    login: async function(e) {
      e.preventDefault();
      var btn = document.getElementById('login-submit'); var err = document.getElementById('login-error');
      err.textContent = ''; btn.disabled = true; btn.textContent = 'Signing in...';
      try {
        var res = await fetch(API + '/login', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email: document.getElementById('login-email').value, password: document.getElementById('login-password').value }) });
        var data = await res.json();
        if (!res.ok) { err.textContent = data.error; return; }
        localStorage.setItem('mc_token', data.token); localStorage.setItem('mc_user', JSON.stringify(data.user));
        mcAuth.setLoggedIn(data.user);
      } catch(ex) { err.textContent = 'Connection error.'; }
      finally { btn.disabled = false; btn.textContent = 'Sign In'; }
      return false;
    },
    signup: async function(e) {
      e.preventDefault();
      var btn = document.getElementById('signup-submit'); var err = document.getElementById('signup-error');
      err.textContent = ''; btn.disabled = true; btn.textContent = 'Creating...';
      try {
        var res = await fetch(API + '/signup', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ name: document.getElementById('signup-name').value, email: document.getElementById('signup-email').value, password: document.getElementById('signup-password').value }) });
        var data = await res.json();
        if (!res.ok) { err.textContent = data.error; return; }
        localStorage.setItem('mc_token', data.token); localStorage.setItem('mc_user', JSON.stringify(data.user));
        mcAuth.setLoggedIn(data.user);
      } catch(ex) { err.textContent = 'Connection error.'; }
      finally { btn.disabled = false; btn.textContent = 'Create Account'; }
      return false;
    },
    forgot: async function(e) {
      e.preventDefault();
      var btn = document.getElementById('forgot-submit'); var err = document.getElementById('forgot-error'); var suc = document.getElementById('forgot-success');
      err.textContent = ''; suc.textContent = ''; btn.disabled = true; btn.textContent = 'Sending...';
      try {
        var res = await fetch(API + '/forgot-password', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email: document.getElementById('forgot-email').value }) });
        var data = await res.json();
        suc.textContent = data.message || 'Check your email for a reset link.';
      } catch(ex) { err.textContent = 'Connection error.'; }
      finally { btn.disabled = false; btn.textContent = 'Send Reset Link'; }
      return false;
    },
    resetPassword: async function(e) {
      e.preventDefault();
      var pw = document.getElementById('reset-password').value;
      var err = document.getElementById('reset-error'); var suc = document.getElementById('reset-success'); var btn = document.getElementById('reset-submit');
      err.textContent = ''; suc.textContent = '';
      if (pw !== document.getElementById('reset-confirm').value) { err.textContent = 'Passwords do not match.'; return false; }
      btn.disabled = true; btn.textContent = 'Resetting...';
      try {
        var token = new URLSearchParams(window.location.search).get('reset');
        var res = await fetch(API + '/reset-password', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ token: token, password: pw }) });
        var data = await res.json();
        if (!res.ok) { err.textContent = data.error; return; }
        suc.textContent = data.message; btn.style.display = 'none';
        setTimeout(function() { document.getElementById('reset-modal').classList.remove('open'); history.replaceState(null, '', window.location.pathname); mcAuth.showForm('login'); }, 2000);
      } catch(ex) { err.textContent = 'Connection error.'; }
      finally { btn.disabled = false; btn.textContent = 'Reset Password'; }
      return false;
    },
    setLoggedIn: function(user) {
      var toggle = document.getElementById('auth-toggle');
      toggle.textContent = user.name.split(' ')[0];
      toggle.classList.add('logged-in');
      toggle.onclick = function(e) { e.stopPropagation(); window.location.href = 'dashboard.html'; };
      document.querySelectorAll('#auth-dropdown .auth-form').forEach(f => f.classList.remove('active'));
      document.getElementById('auth-user').classList.add('active');
      document.getElementById('auth-user-name').textContent = user.name;
      document.getElementById('nav-login').classList.remove('open');
      mcDashboard.checkVerifyBanner(user);
    },
    logout: function() {
      localStorage.removeItem('mc_token'); localStorage.removeItem('mc_user');
      var toggle = document.getElementById('auth-toggle');
      toggle.textContent = 'Login'; toggle.classList.remove('logged-in');
      toggle.onclick = function() { toggle.parentElement.classList.toggle('open'); };
      document.querySelectorAll('#auth-dropdown .auth-form').forEach(f => f.classList.remove('active'));
      document.getElementById('auth-login').classList.add('active');
      document.getElementById('nav-login').classList.remove('open');
      document.getElementById('login-email').value = ''; document.getElementById('login-password').value = '';
      document.getElementById('verify-banner').classList.remove('visible');
      document.body.classList.remove('has-verify-banner');
      mcDashboard.close();
    },
    restoreSession: async function() {
      var token = localStorage.getItem('mc_token');
      if (!token) return;
      try {
        var res = await fetch(API + '/session', { headers: { 'Authorization': 'Bearer ' + token } });
        if (!res.ok) { mcAuth.logout(); return; }
        var data = await res.json();
        localStorage.setItem('mc_user', JSON.stringify(data.user));
        mcAuth.setLoggedIn(data.user);
      } catch(ex) {
        var cached = localStorage.getItem('mc_user');
        if (cached) { try { mcAuth.setLoggedIn(JSON.parse(cached)); } catch(e) { mcAuth.logout(); } }
      }
    }
  };

  mcAuth.restoreSession();

  var verifyToken = new URLSearchParams(window.location.search).get('verify');
  if (verifyToken) {
    (async function() {
      try {
        var res = await fetch(API + '/verify-email', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ token: verifyToken }) });
        var data = await res.json();
        if (res.ok) {
          var user = JSON.parse(localStorage.getItem('mc_user') || '{}');
          user.email_verified = true; localStorage.setItem('mc_user', JSON.stringify(user));
          document.getElementById('verify-banner').classList.remove('visible');
          document.body.classList.remove('has-verify-banner');
          alert('Email verified successfully!');
        } else { alert(data.error || 'Verification failed.'); }
      } catch(e) { alert('Connection error.'); }
      history.replaceState(null, '', window.location.pathname);
    })();
  }

  var resetToken = new URLSearchParams(window.location.search).get('reset');
  if (resetToken) document.getElementById('reset-modal').classList.add('open');

  document.addEventListener('click', function(e) {
    var login = document.getElementById('nav-login');
    if (!login.contains(e.target)) login.classList.remove('open');
  });
})();
</script>

<script src="gate.js"></script>
<script>
SiteGate.init({
  site: 'mastercommander',
  siteName: 'Master&Commander',
  logo: '‚öì',
  ndaText: '<h4>1. Confidential Information</h4><p>By accessing this site, you acknowledge that all information, data, designs, software, business strategies, pricing, technical specifications, and any other materials ("Confidential Information") presented on Master&Commander are proprietary and confidential.</p><h4>2. Obligations</h4><p>You agree to: (a) maintain the confidentiality of all Confidential Information; (b) not disclose, publish, or disseminate Confidential Information to any third party without prior written consent; (c) not use Confidential Information for any purpose other than evaluating Master&Commander products and services; (d) take reasonable measures to protect the secrecy of the Confidential Information.</p><h4>3. Duration</h4><p>Your obligations under this agreement shall remain in effect for a period of two (2) years from the date of acceptance, or until such time as the Confidential Information becomes publicly available through no fault of your own.</p><h4>4. Remedies</h4><p>You acknowledge that any breach of this agreement may cause irreparable harm, and that the disclosing party shall be entitled to seek equitable relief, including injunction and specific performance, in addition to all other remedies available at law or in equity.</p><h4>5. Governing Law</h4><p>This agreement shall be governed by and construed in accordance with the laws of the State of Florida, United States of America.</p>'
});
</script>
</body>
</html>
